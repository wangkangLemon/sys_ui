webpackJsonp([16],{1071:function(e,t,a){var r=a(975);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(109)("1ee17e98",r,!0)},1202:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{attrs:{id:"sys-form"}},[a("section",{staticClass:"upload-avatar"},[a("div",{staticClass:"img-container"},[a("img",{attrs:{src:e.imgUrl}})])]),e._v(" "),a("section",{staticClass:"submit-form"},[a("el-form",{ref:"form",attrs:{"label-width":"120px",model:e.fetchParam,rules:e.rules}},[a("el-form-item",{attrs:{label:"设置",prop:"category"}},[a("el-input",{model:{value:e.fetchParam.category,callback:function(t){e.fetchParam.category=t},expression:"fetchParam.category"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字段名",prop:"field"}},[a("el-input",{model:{value:e.fetchParam.field,callback:function(t){e.fetchParam.field=t},expression:"fetchParam.field"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"功能说明",prop:"usage"}},[a("el-input",{model:{value:e.fetchParam.usage,callback:function(t){e.fetchParam.usage=t},expression:"fetchParam.usage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字段类型",prop:"ftype"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.fetchParam.ftype,callback:function(t){e.fetchParam.ftype=t},expression:"fetchParam.ftype"}},[a("el-option",{attrs:{label:"数据类型",value:"int"}}),e._v(" "),a("el-option",{attrs:{label:"字符串类型",value:"string"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"字段值",prop:"val"}},[a("el-input",{model:{value:e.fetchParam.val,callback:function(t){e.fetchParam.val=t},expression:"fetchParam.val"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"超长字段存储",prop:"describe"}},[a("el-input",{model:{value:e.fetchParam.describe,callback:function(t){e.fetchParam.describe=t},expression:"fetchParam.describe"}})],1),e._v(" "),this.$route.params.sys_type?a("el-form-item",{attrs:{label:""}},[a("el-button",{on:{click:function(t){e.$router.push({name:"setting-list"})}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.btnNextClick}},[e._v("确认")])],1):e._e()],1)],1)])},staticRenderFns:[]}},454:function(e,t,a){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=a(6),i=a(1),o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=i.a.apiHost+"/setting",c=function(){function t(){r(this,t)}return o(t,[{key:"fetchData",value:function(t){var a=t.page,r=t.pagesize,i=(t.id,t.category),o=t.field,c=n+"/lists";return s.a(c,{pagesize:r,page:a,category:i,field:o}).then(function(t){return 0==t.code?t:e.reject(t)})}},{key:"getAdminInfo",value:function(t){var a=n+"/get/"+t;return s.b(a,{},!1).then(function(t){return 0==t.code?t.data:e.reject(t)})}},{key:"create",value:function(t){var a=t.category,r=t.field,i=t.usage,o=t.ftype,c=t.val,l=t.describe,u=n+"/create";return s.a(u,{category:a,field:r,usage:i,ftype:o,val:c,describe:l}).then(function(t){return 0==t.code?(xmview.showTip("success",t.message),t.data):(xmview.showTip("error",t.message),e.reject(t))})}},{key:"edit",value:function(t){var a=t.id,r=t.category,i=t.field,o=t.usage,c=t.ftype,l=t.val,u=t.describe,f=n+"/edit/"+a;return s.a(f,{category:r,field:i,usage:o,ftype:c,val:l,describe:u}).then(function(t){return 0==t.code?(xmview.showTip("success",t.message),t.data):(xmview.showTip("error",t.message),e.reject(t))})}},{key:"delete",value:function(t){var a=n+"/delete/"+t;return s.a(a,{}).then(function(t){return 0==t.code?(xmview.showTip("success",t.message),t.data):(xmview.showTip("error",t.message),e.reject(t))})}},{key:"deleteMulty",value:function(e){var t=n+"/batchdel";return s.c(t,{ids:e})}},{key:"moveToCategoryMulty",value:function(e){var t=e.ids,a=e.category_id,r=n+"/batchmove";return s.c(r,{ids:t,category_id:a})}}]),t}();t.a=new c}).call(t,a(2))},46:function(e,t,a){a(1071);var r=a(5)(a(882),a(1202),null,null);e.exports=r.exports},882:function(e,t,a){"use strict";function r(){return{category:"",field:"",usage:"",ftype:"",val:"",describe:""}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(454);a(1);t.default={name:"sys-form",data:function(){return{imgUrl:"",loadingData:!1,currentData:{data:{},pindex:-1,index:-1},fetchParam:r(),resultData:[],role_list:[],rules:{category:[{required:!0,message:"必须输入",trigger:"blur"}],field:[{required:!0,message:"必须输入",trigger:"blur"}],usage:[{required:!0,message:"必须输入",trigger:"blur"}],ftype:[{required:!0,message:"必须输入",trigger:"blur"}],val:[{required:!0,message:"必须输入",trigger:"blur"}]}}},activated:function(){var e=this;xmview.setContentLoading(!1),void 0!=this.$route.params.sys_id?(this.$route.params.sys_type||xmview.setContentTile("查看设置"),s.a.getAdminInfo(this.$route.params.sys_id).then(function(t){e.fetchParam=t})):this.fetchParam=r(),this.loadingData=!1},methods:{btnNextClick:function(){var e=this;this.$refs.form.validate(function(t){if(t){var a=s.a.create;e.$route.params.sys_id&&(a=s.a.edit),a(e.fetchParam).then(function(t){xmview.showTip("success","数据提交成功"),e.$refs.form.resetFields(),e.currentData={data:[],pindex:-1,index:-1},e.fetchParam.id||(e.fetchParam.id=t.id),e.$router.push({name:"setting-list"})})}})}}}},975:function(e,t,a){t=e.exports=a(108)(!0),t.push([e.i,'#sys-form{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff}#sys-form:after{content:"";clear:both;display:block}#sys-form .pagin{float:right;margin-top:15px}#sys-form .bottom-manage{margin-top:15px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}#sys-form .el-form{max-width:700px}#sys-form .submit-form{width:40%;padding:20px}#sys-form .submit-form .subButton{text-align:center}',"",{version:3,sources:["/Users/zhaoyicheng/Documents/Code/yxt/PC-old/sys_ui/assets/src/views/setting/Form.vue"],names:[],mappings:"AACA,UAAU,aAAa,kBAAkB,yBAAyB,kBAAkB,eAAe,CAClG,AACD,gBAAgB,WAAW,WAAW,aAAa,CAClD,AACD,iBAAiB,YAAY,eAAe,CAC3C,AACD,yBAAyB,eAAe,CACvC,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,mBAAmB,eAAe,CACjC,AACD,uBAAuB,UAAU,YAAY,CAC5C,AACD,kCAAkC,iBAAiB,CAClD",file:"Form.vue",sourcesContent:["\n#sys-form{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\n}\n#sys-form:after{content:'';clear:both;display:block\n}\n#sys-form .pagin{float:right;margin-top:15px\n}\n#sys-form .bottom-manage{margin-top:15px\n}\n.text-blue{color:#20A0FF\n}\n.text-light-blue{color:#58B7FF\n}\n.text-dark-blue{color:#1D8CE0\n}\n.text-success{color:#13CE66\n}\n.text-warning{color:#F7BA2A\n}\n.text-danger{color:#FF4949\n}\n#sys-form .el-form{max-width:700px\n}\n#sys-form .submit-form{width:40%;padding:20px\n}\n#sys-form .submit-form .subButton{text-align:center\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=16.5908a94fd56896beeca7.js.map