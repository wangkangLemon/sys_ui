{"version":3,"sources":["webpack:///static/js/26.fc396a39a86fab1b0c5b.js","webpack:///./src/views/sys/role/roleNodes.vue","webpack:///./src/services/sys/menuService.js?8b9c*","webpack:///./src/services/sys/roleService.js?2dc9*","webpack:///roleNodes.vue","webpack:///./src/views/sys/role/roleNodes.vue?1b54","webpack:///./src/views/sys/role/roleNodes.vue?6412","webpack:///./src/views/sys/role/roleNodes.vue?ec0f"],"names":["webpackJsonp","166","module","exports","__webpack_require__","Component","182","__webpack_exports__","Promise","_classCallCheck","instance","Constructor","TypeError","__WEBPACK_IMPORTED_MODULE_0__api__","__WEBPACK_IMPORTED_MODULE_1__utils_config__","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","urlPre","apiHost","sysService","this","value","_ref","pagesize","page","url","then","ret","code","reject","id","data","_ref2","menu_name","menu_node","remark","sort","pid","level","xmview","showTip","message","_ref3","disabled","ids","_ref4","category_id","_ref5","_ref6","image","alias","call","183","urlPre_menu","urlPre_node","role_name","role_id","menu_ids","268","__WEBPACK_IMPORTED_MODULE_0__services_sys_menuService_js__","__WEBPACK_IMPORTED_MODULE_1__services_sys_roleService_js__","init","loadingData","dataCache","dataImp","selectedIds","checkAll","checkedMenus","activated","fetchData","fetchDataN","methods","handleCheckAllChange","event","arr","map","v","checked","handleCheckedMenusChange","checkedCount","val","_this","fetchParam","setContentLoading","_this2","$route","params","forEach","push","menu_id","createN","_this3","join","fetchParamImp","302","version","sources","names","mappings","file","sourcesContent","sourceRoot","339","content","locals","393","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","type","_v","_s","on","change","model","callback","$$v","expression","staticStyle","margin","_l","item","label","click","staticRenderFns"],"mappings":"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","file":"static/js/26.fc396a39a86fab1b0c5b.js","sourcesContent":["webpackJsonp([26],{\n\n/***/ 166:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(339)\n\nvar Component = __webpack_require__(10)(\n  /* script */\n  __webpack_require__(268),\n  /* template */\n  __webpack_require__(393),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 182:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_config__ = __webpack_require__(3);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar urlPre = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/menu';\n\nvar sysService = function () {\n    function sysService() {\n        _classCallCheck(this, sysService);\n    }\n\n    _createClass(sysService, [{\n        key: 'fetchData',\n\n        //拿到数据 \n        value: function fetchData(_ref) {\n            var pagesize = _ref.pagesize,\n                page = _ref.page;\n\n            var url = urlPre + '/lists';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { pagesize: pagesize, page: page }).then(function (ret) {\n                if (ret.code == 0) {\n                    return ret;\n                } else {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 搜索\n\n    }, {\n        key: 'getAdminInfo',\n        value: function getAdminInfo(id) {\n            var url = urlPre + '/view/' + id; //传递的地址的id\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, {}, false).then(function (ret) {\n                if (ret.code == 0) {\n                    return ret.data;\n                } else {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 创建\n\n    }, {\n        key: 'create',\n        value: function create(_ref2) {\n            var menu_name = _ref2.menu_name,\n                menu_node = _ref2.menu_node,\n                remark = _ref2.remark,\n                sort = _ref2.sort,\n                pid = _ref2.pid,\n                level = _ref2.level;\n\n            var url = urlPre + '/create';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { menu_name: menu_name, menu_node: menu_node, remark: remark, sort: sort, pid: pid, level: level }).then(function (ret) {\n                if (ret.code == 0) {\n                    xmview.showTip('success', ret.message);\n                } else {\n                    xmview.showTip('error', ret.message);\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 更新\n\n    }, {\n        key: 'update',\n        value: function update(_ref3) {\n            var id = _ref3.id,\n                menu_name = _ref3.menu_name,\n                menu_node = _ref3.menu_node,\n                remark = _ref3.remark,\n                sort = _ref3.sort,\n                pid = _ref3.pid,\n                level = _ref3.level,\n                disabled = _ref3.disabled;\n\n            var url = urlPre + '/update/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { menu_name: menu_name, menu_node: menu_node, remark: remark, sort: sort, pid: pid, level: level, disabled: disabled }).then(function (ret) {\n                if (ret.code == 0) {\n                    return ret.data;\n                } else {\n                    xmview.showTip('error', ret.message);\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 删除\n\n    }, {\n        key: 'delete',\n        value: function _delete(id) {\n            var url = urlPre + '/delete/' + id;\n            // console.log(url)\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, {}).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 批量删除管理员\n\n    }, {\n        key: 'deleteMulty',\n        value: function deleteMulty(ids) {\n            var url = urlPre + '/batchdel';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"c\" /* put */](url, { ids: ids });\n        }\n\n        // 批量移动管理员到指定分类\n\n    }, {\n        key: 'moveToCategoryMulty',\n        value: function moveToCategoryMulty(_ref4) {\n            var ids = _ref4.ids,\n                category_id = _ref4.category_id;\n\n            var url = urlPre + '/batchmove';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"c\" /* put */](url, { ids: ids, category_id: category_id });\n        }\n\n        // 设置管理员\n\n    }, {\n        key: 'setLesson',\n        value: function setLesson(_ref5) {\n            var id = _ref5.id,\n                data = _ref5.data;\n\n            var url = urlPre + '/' + id + '/setlesson';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"c\" /* put */](url, data).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 禁用管理员\n\n    }, {\n        key: 'offline',\n        value: function offline(id) {\n            var url = urlPre + '/update/' + id;\n            console.log('进入offline(id)');\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, {});\n        }\n\n        // 启用管理员\n\n    }, {\n        key: 'online',\n        value: function online(id) {\n            var url = urlPre + '/update/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, {});\n        }\n\n        // 获取添加编辑课程上传图片的url\n\n    }, {\n        key: 'getUploadUrl',\n        value: function getUploadUrl(_ref6) {\n            var image = _ref6.image,\n                alias = _ref6.alias;\n\n            var url = urlPre + '/upload';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { image: image, alias: alias }).then(function (ret) {\n                return ret.data;\n            });\n        }\n    }]);\n\n    return sysService;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new sysService());\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(9)))\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_config__ = __webpack_require__(3);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar urlPre = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/role';\nvar urlPre_menu = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/role_menus';\nvar urlPre_node = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/role_nodes';\n\nvar sysService = function () {\n    function sysService() {\n        _classCallCheck(this, sysService);\n    }\n\n    _createClass(sysService, [{\n        key: 'fetchData',\n\n        //拿到数据 \n        value: function fetchData() {\n            var url = urlPre + '/lists';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, {}).then(function (ret) {\n                if (ret.code == 0) {\n                    return ret;\n                } else {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 根据ID显示\n\n    }, {\n        key: 'getAdminInfo',\n        value: function getAdminInfo(id) {\n            var url = urlPre + '/view/' + id; //传递的地址的id\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, {}, false).then(function (ret) {\n                if (ret.code == 0) {\n                    return ret.data;\n                } else {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 创建\n\n    }, {\n        key: 'create',\n        value: function create(_ref) {\n            var role_name = _ref.role_name;\n\n            var url = urlPre + '/create';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { role_name: role_name }).then(function (ret) {\n                if (ret.code == 0) {\n                    xmview.showTip('success', ret.message);\n                    return ret.data;\n                } else {\n                    console.log(url);\n                    xmview.showTip('error', ret.message);\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 更新\n\n    }, {\n        key: 'update',\n        value: function update(_ref2) {\n            var role_name = _ref2.role_name,\n                id = _ref2.id;\n\n            var url = urlPre + '/update/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { role_name: role_name }).then(function (ret) {\n                if (!ret.code) {\n                    xmview.showTip('success', ret.message);\n                } else {\n                    console.log(url);\n                    xmview.showTip('error', ret.message);\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 删除\n\n    }, {\n        key: 'delete',\n        value: function _delete(id) {\n            var url = urlPre + '/delete/' + id;\n            // console.log(url)\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, {}).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 批量删除管理员\n\n    }, {\n        key: 'deleteMulty',\n        value: function deleteMulty(ids) {\n            var url = urlPre + '/batchdel';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"c\" /* put */](url, { ids: ids });\n        }\n\n        // 批量移动管理员到指定分类\n\n    }, {\n        key: 'moveToCategoryMulty',\n        value: function moveToCategoryMulty(_ref3) {\n            var ids = _ref3.ids,\n                category_id = _ref3.category_id;\n\n            var url = urlPre + '/batchmove';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"c\" /* put */](url, { ids: ids, category_id: category_id });\n        }\n\n        // 设置管理员\n\n    }, {\n        key: 'setLesson',\n        value: function setLesson(_ref4) {\n            var id = _ref4.id,\n                data = _ref4.data;\n\n            var url = urlPre + '/' + id + '/setlesson';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"c\" /* put */](url, data).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 禁用管理员\n\n    }, {\n        key: 'offline',\n        value: function offline(id) {\n            var url = urlPre + '/update/' + id;\n            console.log('进入offline(id)');\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, {});\n        }\n\n        // 启用管理员\n\n    }, {\n        key: 'online',\n        value: function online(id) {\n            var url = urlPre + '/update/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, {});\n        }\n\n        //分配权限---------------------------\n\n        //菜单\n        //拿到数据 \n\n    }, {\n        key: 'fetchDataM',\n        value: function fetchDataM(id) {\n            var url = urlPre_menu + '/lists';\n            console.log();\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, { role_id: id\n            }).then(function (ret) {\n                if (ret.code == 0) {\n                    console.log(ret);\n                    return ret;\n                } else {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n        // 创建\n\n    }, {\n        key: 'createM',\n        value: function createM(id, ids) {\n            var url = urlPre_menu + '/create_multi';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { role_id: id, menu_ids: ids }).then(function (ret) {\n                if (ret.code == 0) {\n                    xmview.showTip('success', ret.message);\n                    return ret.data;\n                } else {\n                    console.log(url);\n                    xmview.showTip('error', ret.message);\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        //节点\n        //拿到数据 \n\n    }, {\n        key: 'fetchDataN',\n        value: function fetchDataN(id) {\n            var url = urlPre_node + '/lists';\n            console.log(url);\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, { role_id: id\n            }).then(function (ret) {\n                if (ret.code == 0) {\n                    console.log(ret);\n                    return ret;\n                } else {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n        // 创建\n\n    }, {\n        key: 'createN',\n        value: function createN(id, ids) {\n            var url = urlPre_node + '/create_multi';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { role_id: id, menu_ids: ids }).then(function (ret) {\n                if (ret.code == 0) {\n                    xmview.showTip('success', ret.message);\n                    return ret.data;\n                } else {\n                    console.log(url);\n                    xmview.showTip('error', ret.message);\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 删除 - 根据添加授权 请求role_id 和 menu_id 产生的 id来删除\n\n    }, {\n        key: 'deleteImp',\n        value: function deleteImp(id) {\n            var url = urlPre_menu + '/delete/' + id;\n            // console.log(url)\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, {}).then(function (ret) {\n                if (ret.code == 0) {\n                    xmview.showTip('success', ret.message);\n                    return ret.data;\n                } else {\n                    console.log(url);\n                    xmview.showTip('error', ret.message);\n                    return Promise.reject(ret);\n                }\n            });\n        }\n    }]);\n\n    return sysService;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new sysService());\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(9)))\n\n/***/ }),\n\n/***/ 268:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_sys_menuService_js__ = __webpack_require__(182);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_sys_roleService_js__ = __webpack_require__(183);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            init: false,\n            loadingData: false,\n            dataCache: [], // 总的数据\n            dataImp: [], // 已授权列表的数据\n            selectedIds: [], // 被选中的数据id集合\n            checkAll: false,\n            checkedMenus: []\n        };\n    },\n    activated: function activated() {\n        this.fetchData();\n        this.fetchDataN();\n    },\n\n    methods: {\n        //全选反选按钮\n        handleCheckAllChange: function handleCheckAllChange(event) {\n            var arr = this.dataCache.map(function (v) {\n                return v.id;\n            });\n            this.checkedMenus = event.target.checked ? arr : [];\n        },\n        handleCheckedMenusChange: function handleCheckedMenusChange(value) {\n            var checkedCount = value.length;\n            this.checkAll = checkedCount === this.dataCache.length;\n        },\n\n        //总的数据     \n        fetchData: function fetchData(val) {\n            var _this = this;\n\n            return __WEBPACK_IMPORTED_MODULE_0__services_sys_menuService_js__[\"a\" /* default */].fetchData(this.fetchParam).then(function (ret) {\n                console.log('全部的菜单======');\n                console.log(ret.data);\n                _this.dataCache = ret.data;\n                _this.loadingData = false;\n                _this.checkAll = _this.checkedMenus.length === _this.dataCache.length;\n                xmview.setContentLoading(false);\n            });\n        },\n\n        //授权部分开始\n        fetchDataN: function fetchDataN() {\n            var _this2 = this;\n\n            console.log(this.$route.params.role_id);\n            return __WEBPACK_IMPORTED_MODULE_1__services_sys_roleService_js__[\"a\" /* default */].fetchDataN(this.$route.params.role_id).then(function (ret) {\n                _this2.dataImp = ret.data;\n                var arr = [];\n                ret.data.forEach(function (v) {\n                    arr.push(v.menu_id);\n                });\n                _this2.checkedMenus = arr;\n                console.log('此角色已授权的菜单有======');\n                console.log(ret.data);\n                _this2.checkAll = _this2.checkedMenus.length === _this2.dataCache.length;\n                _this2.loadingData = false;\n                xmview.setContentLoading(false);\n            });\n        },\n        createN: function createN() {\n            var _this3 = this;\n\n            var ids = this.checkedMenus.join(',');\n            console.log(111111111111111);\n            console.log(ids);\n            __WEBPACK_IMPORTED_MODULE_1__services_sys_roleService_js__[\"a\" /* default */].createN(this.$route.params.role_id, ids).then(function (ret) {\n                _this3.fetchParamImp = ret;\n                console.log(ret);\n            });\n            this.loadingData = false;\n        }\n    }\n\n});\n\n/***/ }),\n\n/***/ 302:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(132)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#sys-index-container{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff}#sys-index-container:after{content:\\\"\\\";clear:both;display:block}#sys-index-container .pagin{float:right;margin-top:15px}#sys-index-container .bottom-manage{margin-top:15px}#sys-index-container .manage-container{position:absolute;right:0;top:-50px}#sys-index-container .header-button.manage-container>.el-button i{margin-right:5px}#sys-index-container .header-button.manage-container>.el-button i:before{position:relative;top:-1px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}.keyword-container{width:90%;margin-left:5%;margin-bottom:5px}\", \"\", {\"version\":3,\"sources\":[\"/home/zhaoyicheng/devspace/admin_ui/assets/src/views/sys/role/roleNodes.vue\"],\"names\":[],\"mappings\":\"AACA,qBAAqB,aAAa,kBAAkB,yBAAyB,kBAAkB,eAAe,CAC7G,AACD,2BAA2B,WAAW,WAAW,aAAa,CAC7D,AACD,4BAA4B,YAAY,eAAe,CACtD,AACD,oCAAoC,eAAe,CAClD,AACD,uCAAuC,kBAAkB,QAAQ,SAAS,CACzE,AACD,kEAAkE,gBAAgB,CACjF,AACD,yEAAyE,kBAAkB,QAAQ,CAClG,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,mBAAmB,UAAU,eAAe,iBAAiB,CAC5D\",\"file\":\"roleNodes.vue\",\"sourcesContent\":[\"\\n#sys-index-container{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\\n}\\n#sys-index-container:after{content:'';clear:both;display:block\\n}\\n#sys-index-container .pagin{float:right;margin-top:15px\\n}\\n#sys-index-container .bottom-manage{margin-top:15px\\n}\\n#sys-index-container .manage-container{position:absolute;right:0;top:-50px\\n}\\n#sys-index-container .header-button.manage-container>.el-button i{margin-right:5px\\n}\\n#sys-index-container .header-button.manage-container>.el-button i:before{position:relative;top:-1px\\n}\\n.text-blue{color:#20A0FF\\n}\\n.text-light-blue{color:#58B7FF\\n}\\n.text-dark-blue{color:#1D8CE0\\n}\\n.text-success{color:#13CE66\\n}\\n.text-warning{color:#F7BA2A\\n}\\n.text-danger{color:#FF4949\\n}\\n.keyword-container{width:90%;margin-left:5%;margin-bottom:5px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 339:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(302);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(133)(\"64c3240a\", content, true);\n\n/***/ }),\n\n/***/ 393:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('article', {\n    attrs: {\n      \"id\": \"sys-index-container\"\n    }\n  }, [_c('section', {\n    staticClass: \"manage-container\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_c('i', [_vm._v(_vm._s(_vm.$route.params.role_name) + \"角色组\")])])], 1), _vm._v(\" \"), _c('el-checkbox', {\n    on: {\n      \"change\": _vm.handleCheckAllChange\n    },\n    model: {\n      value: (_vm.checkAll),\n      callback: function($$v) {\n        _vm.checkAll = $$v\n      },\n      expression: \"checkAll\"\n    }\n  }, [_vm._v(\"全选\")]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin\": \"15px 0\"\n    }\n  }), _vm._v(\" \"), _c('el-checkbox-group', {\n    on: {\n      \"change\": _vm.handleCheckedMenusChange\n    },\n    model: {\n      value: (_vm.checkedMenus),\n      callback: function($$v) {\n        _vm.checkedMenus = $$v\n      },\n      expression: \"checkedMenus\"\n    }\n  }, _vm._l((_vm.dataCache), function(item) {\n    return _c('el-checkbox', {\n      key: item.id,\n      attrs: {\n        \"label\": item.id,\n        \"value\": item.id\n      }\n    }, [_vm._v(_vm._s(item.menu_name))])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"bottom-manage\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.createN\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/26.fc396a39a86fab1b0c5b.js","\n/* styles */\nrequire(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-7f81ca04\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./roleNodes.vue\")\n\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./roleNodes.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-7f81ca04\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./roleNodes.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/sys/role/roleNodes.vue\n// module id = 166\n// module chunks = 26","import * as api from '../api'\nimport config from '../../utils/config'\nconst urlPre = config.apiHost + '/menu'\n\nclass sysService {\n    //拿到数据 \n    fetchData ({pagesize, page}) {\n        let url = urlPre + '/lists'\n        return api.post(url,{pagesize, page}).then(ret => {\n            if (ret.code == 0) {\n                return ret\n            } else {\n                return Promise.reject(ret)\n            }\n        })\n    }\n    \n    // 搜索\n    getAdminInfo(id) {\n        let url = `${urlPre}/view/${id}`         //传递的地址的id\n        return api.get(url,{},false).then(ret => {\n            if (ret.code == 0) {\n                return ret.data\n            } else {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 创建\n    create({ menu_name, menu_node, remark, sort, pid , level }) {\n        let url = urlPre + '/create'\n        return api.post(url, { menu_name, menu_node, remark, sort, pid , level }).then(ret => {\n            if (ret.code == 0) {\n                xmview.showTip('success',ret.message)  \n            } else {\n                xmview.showTip('error',ret.message)\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 更新\n    update({ id, menu_name, menu_node, remark, sort, pid, level, disabled}) {\n        let url = `${urlPre}/update/${id}`\n        return api.post(url, { menu_name, menu_node, remark, sort, pid, level,disabled }).then(ret => {\n            if (ret.code == 0) {\n                return ret.data\n            } else {\n                xmview.showTip('error',ret.message)\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 删除\n    delete(id) {\n        let url = `${urlPre}/delete/${id}`\n        // console.log(url)\n        return api.get(url, {}).then(ret => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 批量删除管理员\n    deleteMulty(ids) {\n        let url = `${urlPre}/batchdel`\n        return api.put(url, { ids })\n    }\n\n    // 批量移动管理员到指定分类\n    moveToCategoryMulty({ ids, category_id }) {\n        let url = `${urlPre}/batchmove`\n        return api.put(url, { ids, category_id })\n    }\n\n    // 设置管理员\n    setLesson({ id, data }) {\n        let url = `${urlPre}/${id}/setlesson`\n        return api.put(url, data).then(ret => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 禁用管理员\n    offline(id) {\n        let url = `${urlPre}/update/${id}`\n        console.log('进入offline(id)')\n        return api.post(url, {})\n    }\n\n    // 启用管理员\n    online(id) {\n        let url = `${urlPre}/update/${id}`\n        return api.post(url, {})\n    }\n\n    // 获取添加编辑课程上传图片的url\n    getUploadUrl({image, alias}) {\n        let url = `${urlPre}/upload`\n        return api.post(url, {image, alias}).then((ret) => {\n            return ret.data\n        })\n    }\n\n}\nexport default new sysService()\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/sys/menuService.js","import * as api from '../api'\nimport config from '../../utils/config'\nconst urlPre = config.apiHost + '/role'\nconst urlPre_menu = config.apiHost + '/role_menus'\nconst urlPre_node = config.apiHost + '/role_nodes'\n\nclass sysService {\n    //拿到数据 \n    fetchData () {\n        let url = urlPre + '/lists'\n        return api.post(url,{\n        }).then(ret => {\n            if (ret.code == 0) {\n                return ret\n            } else {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    \n    // 根据ID显示\n    getAdminInfo(id) {\n        let url = `${urlPre}/view/${id}`         //传递的地址的id\n        return api.get(url,{},false).then(ret => {\n            if (ret.code == 0) {\n                return ret.data\n            } else {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 创建\n    create({ role_name}) {\n        let url = urlPre + '/create'\n        return api.post(url, {role_name}).then(ret => {\n            if (ret.code == 0) {\n                xmview.showTip('success',ret.message)\n                return ret.data\n            } else {\n                console.log(url)\n                xmview.showTip('error',ret.message)\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 更新\n    update({ role_name,id }) {\n        let url = `${urlPre}/update/${id}`\n        return api.post(url, { role_name }).then(ret => {\n            if (!ret.code) {\n                 xmview.showTip('success',ret.message)  \n            }else {\n                console.log(url)\n                xmview.showTip('error',ret.message)\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 删除\n    delete(id) {\n        let url = `${urlPre}/delete/${id}`\n        // console.log(url)\n        return api.get(url, {}).then(ret => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 批量删除管理员\n    deleteMulty(ids) {\n        let url = `${urlPre}/batchdel`\n        return api.put(url, { ids })\n    }\n\n    // 批量移动管理员到指定分类\n    moveToCategoryMulty({ ids, category_id }) {\n        let url = `${urlPre}/batchmove`\n        return api.put(url, { ids, category_id })\n    }\n\n    // 设置管理员\n    setLesson({ id, data }) {\n        let url = `${urlPre}/${id}/setlesson`\n        return api.put(url, data).then(ret => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 禁用管理员\n    offline(id) {\n        let url = `${urlPre}/update/${id}`\n        console.log('进入offline(id)')\n        return api.post(url, {})\n    }\n\n    // 启用管理员\n    online(id) {\n        let url = `${urlPre}/update/${id}`\n        return api.post(url, {})\n    }\n\n\n    //分配权限---------------------------\n\n    //菜单\n    //拿到数据 \n    fetchDataM ( id ) {\n        let url = urlPre_menu + '/lists'\n        console.log()\n        return api.get(url,{ role_id : id\n        }).then(ret => {\n            if (ret.code == 0) {\n                console.log( ret)\n                return ret\n            } else {\n                return Promise.reject(ret)\n            }\n        })\n    }\n    // 创建\n    createM(id, ids) {\n        let url = urlPre_menu + '/create_multi'\n        return api.post(url, { role_id:id , menu_ids:ids }).then(ret => {\n            if (ret.code == 0) {\n                xmview.showTip('success',ret.message)\n                return ret.data\n            } else {\n                console.log(url)\n                xmview.showTip('error',ret.message)\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    //节点\n    //拿到数据 \n    fetchDataN ( id ) {\n        let url = urlPre_node + '/lists'\n        console.log(url)\n        return api.get(url,{ role_id : id\n        }).then(ret => {\n            if (ret.code == 0) {\n                console.log( ret)\n                return ret\n            } else {\n                return Promise.reject(ret)\n            }\n        })\n    }\n    // 创建\n    createN(id, ids) {\n        let url = urlPre_node + '/create_multi'\n        return api.post(url, { role_id:id , menu_ids:ids }).then(ret => {\n            if (ret.code == 0) {\n                xmview.showTip('success',ret.message)\n                return ret.data\n            } else {\n                console.log(url)\n                xmview.showTip('error',ret.message)\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n\n\n     // 删除 - 根据添加授权 请求role_id 和 menu_id 产生的 id来删除\n    deleteImp(id) {\n        let url = `${urlPre_menu}/delete/${id}`\n        // console.log(url)\n        return api.get(url, {}).then(ret => {\n            if (ret.code==0) {\n                xmview.showTip('success',ret.message)\n                return ret.data\n            }else {\n                console.log(url)\n                xmview.showTip('error',ret.message)\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n\n}\nexport default new sysService()\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/sys/roleService.js","<!--授权节点管理-->\n<style lang='scss' rel='stylesheet/scss'>\n@import \"../../../utils/mixins/common\";\n@import \"../../../utils/mixins/topSearch\";\n\n#sys-index-container {\n    @extend %content-container;\n     .manage-container {\n        @extend %right-top-btnContainer;\n    }\n}\n</style>\n\n<template>\n    <article id=\"sys-index-container\">\n        <section class=\"manage-container\">\n            <el-button type=\"primary\" >\n                <i>{{$route.params.role_name}}角色组</i>\n            </el-button>\n        </section>\n\n        <el-checkbox v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\n        <div style=\"margin: 15px 0;\"></div>\n        <el-checkbox-group v-model=\"checkedMenus\" @change=\"handleCheckedMenusChange\">\n            <el-checkbox v-for=\"item in dataCache\" :label=\"item.id\" :key=\"item.id\" :value=\"item.id\">{{item.menu_name}}</el-checkbox>\n        </el-checkbox-group>\n\n        <!--底部的批量删除和移动两个按钮-->\n        <div class=\"bottom-manage\">\n            <el-button @click=\"createN\">提交</el-button>\n            <!--<el-button @click=\"deleteImp\">删除</el-button>-->\n        </div>\n    </article>\n</template>\n\n<script>\nimport sysService from '../../../services/sys/menuService.js'\nimport roleService from '../../../services/sys/roleService.js'\n\nexport default {\n\n    data() {\n        return {\n            init:false,\n            loadingData: false,\n            dataCache:[],     // 总的数据\n            dataImp:[],       // 已授权列表的数据\n            selectedIds: [],  // 被选中的数据id集合\n            checkAll: false,\n            checkedMenus: [],\n            }\n    },\n    activated () {\n        this.fetchData()\n        this.fetchDataN()\n    },\n    methods: {\n        //全选反选按钮\n        handleCheckAllChange(event) {\n            var arr = this.dataCache.map(v=>{\n                return v.id\n            })\n            this.checkedMenus = event.target.checked ? arr : [];\n        },\n        handleCheckedMenusChange(value) {\n            let checkedCount = value.length;\n            this.checkAll = checkedCount === this.dataCache.length;\n        },\n        //总的数据     \n        fetchData(val) {\n            return sysService.fetchData(this.fetchParam).then((ret) => {\n                console.log('全部的菜单======')\n                console.log(ret.data)\n                this.dataCache = ret.data \n                this.loadingData = false\n                this.checkAll = this.checkedMenus.length === this.dataCache.length;\n                xmview.setContentLoading(false)     \n            })\n        },\n        //授权部分开始\n        fetchDataN(){\n            console.log(this.$route.params.role_id)\n            return roleService.fetchDataN(this.$route.params.role_id).then((ret) => {\n                this.dataImp = ret.data\n                var arr = []\n                ret.data.forEach(v=>{\n                    arr.push(v.menu_id)\n                })\n                this.checkedMenus = arr    \n                console.log('此角色已授权的菜单有======')\n                console.log(ret.data)\n                this.checkAll = this.checkedMenus.length === this.dataCache.length;\n                this.loadingData = false\n                xmview.setContentLoading(false)     \n            })\n        },\n        createN(){\n            let ids=this.checkedMenus.join(',')\n            console.log(111111111111111)\n            console.log(ids)\n            roleService.createN(this.$route.params.role_id,ids).then((ret) => {\n                this.fetchParamImp = ret\n                console.log(ret)\n            })\n            this.loadingData=false;\n        },\n\n    },\n \n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// roleNodes.vue?0713ae54","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#sys-index-container{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff}#sys-index-container:after{content:\\\"\\\";clear:both;display:block}#sys-index-container .pagin{float:right;margin-top:15px}#sys-index-container .bottom-manage{margin-top:15px}#sys-index-container .manage-container{position:absolute;right:0;top:-50px}#sys-index-container .header-button.manage-container>.el-button i{margin-right:5px}#sys-index-container .header-button.manage-container>.el-button i:before{position:relative;top:-1px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}.keyword-container{width:90%;margin-left:5%;margin-bottom:5px}\", \"\", {\"version\":3,\"sources\":[\"/home/zhaoyicheng/devspace/admin_ui/assets/src/views/sys/role/roleNodes.vue\"],\"names\":[],\"mappings\":\"AACA,qBAAqB,aAAa,kBAAkB,yBAAyB,kBAAkB,eAAe,CAC7G,AACD,2BAA2B,WAAW,WAAW,aAAa,CAC7D,AACD,4BAA4B,YAAY,eAAe,CACtD,AACD,oCAAoC,eAAe,CAClD,AACD,uCAAuC,kBAAkB,QAAQ,SAAS,CACzE,AACD,kEAAkE,gBAAgB,CACjF,AACD,yEAAyE,kBAAkB,QAAQ,CAClG,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,mBAAmB,UAAU,eAAe,iBAAiB,CAC5D\",\"file\":\"roleNodes.vue\",\"sourcesContent\":[\"\\n#sys-index-container{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\\n}\\n#sys-index-container:after{content:'';clear:both;display:block\\n}\\n#sys-index-container .pagin{float:right;margin-top:15px\\n}\\n#sys-index-container .bottom-manage{margin-top:15px\\n}\\n#sys-index-container .manage-container{position:absolute;right:0;top:-50px\\n}\\n#sys-index-container .header-button.manage-container>.el-button i{margin-right:5px\\n}\\n#sys-index-container .header-button.manage-container>.el-button i:before{position:relative;top:-1px\\n}\\n.text-blue{color:#20A0FF\\n}\\n.text-light-blue{color:#58B7FF\\n}\\n.text-dark-blue{color:#1D8CE0\\n}\\n.text-success{color:#13CE66\\n}\\n.text-warning{color:#F7BA2A\\n}\\n.text-danger{color:#FF4949\\n}\\n.keyword-container{width:90%;margin-left:5%;margin-bottom:5px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-7f81ca04\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/sys/role/roleNodes.vue\n// module id = 302\n// module chunks = 26","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-7f81ca04\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./roleNodes.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"64c3240a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-7f81ca04\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/sys/role/roleNodes.vue\n// module id = 339\n// module chunks = 26","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('article', {\n    attrs: {\n      \"id\": \"sys-index-container\"\n    }\n  }, [_c('section', {\n    staticClass: \"manage-container\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    }\n  }, [_c('i', [_vm._v(_vm._s(_vm.$route.params.role_name) + \"角色组\")])])], 1), _vm._v(\" \"), _c('el-checkbox', {\n    on: {\n      \"change\": _vm.handleCheckAllChange\n    },\n    model: {\n      value: (_vm.checkAll),\n      callback: function($$v) {\n        _vm.checkAll = $$v\n      },\n      expression: \"checkAll\"\n    }\n  }, [_vm._v(\"全选\")]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin\": \"15px 0\"\n    }\n  }), _vm._v(\" \"), _c('el-checkbox-group', {\n    on: {\n      \"change\": _vm.handleCheckedMenusChange\n    },\n    model: {\n      value: (_vm.checkedMenus),\n      callback: function($$v) {\n        _vm.checkedMenus = $$v\n      },\n      expression: \"checkedMenus\"\n    }\n  }, _vm._l((_vm.dataCache), function(item) {\n    return _c('el-checkbox', {\n      key: item.id,\n      attrs: {\n        \"label\": item.id,\n        \"value\": item.id\n      }\n    }, [_vm._v(_vm._s(item.menu_name))])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"bottom-manage\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": _vm.createN\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-7f81ca04\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/sys/role/roleNodes.vue\n// module id = 393\n// module chunks = 26"],"sourceRoot":""}