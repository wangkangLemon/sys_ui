webpackJsonp([7],{146:function(e,t,o){o(343);var a=o(10)(o(242),o(398),null,null);e.exports=a.exports},167:function(e,t,o){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=o(22),n=o(4),r=o(3),s=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),c=r.a.apiHost+"/course",l=function(){function t(){a(this,t)}return s(t,[{key:"getCategoryTree",value:function(e){var t=e.id,o=void 0===t?"tree":t,a=e.type,n=e.filter,r=void 0===n||n,s=e.pid,l=void 0===s?-1:s,p=e.level,u=void 0===p?-1:p,d=c+"/category/lists";return i.b(d,{id:o,filter:r,type:a,pid:l,level:u}).then(function(e){return e})}},{key:"search_cate",value:function(t){var o=t.id,a=t.name,n=t.category_type,r=t.pid,s=t.level,l=t.ended,p=t.disabled,u=t.page,d=t.pagesize,A=c+"/category/lists";return i.b(A,{id:o,name:a,category_type:n,pid:r,level:s,ended:l,disabled:p,page:u,pagesize:d},!1).then(function(t){return 0==t.code?t.data:e.reject(t)})}},{key:"create_cate",value:function(t){var o=t.name,a=t.sort,n=t.category_type,r=t.pid,s=t.ended,l=t.image,p={name:o,sort:a,category_type:n,pid:r,ended:s,image:l};0===r&&delete p.pid;var u=c+"/category/create";return i.a(u,p).then(function(t){return 0==t.code?(xmview.showTip("success",t.message),t.data):(xmview.showTip("error",t.message),e.reject(t))})}},{key:"update_cate",value:function(t){var o=t.id,a=t.name,n=t.image,r=t.category_type,s=t.sort,l=t.ended,p=t.disabled,u=t.pid,d=c+"/category/edit/"+o;return i.a(d,{name:a,image:n,category_type:r,sort:s,ended:l,disabled:p,pid:u}).then(function(t){if(t.code)return e.reject(t)})}},{key:"updateCategory",value:function(e){var t=e.govid,o=e.type,a=e.name,s=e.image,c=e.sort,l=e.id;t=t||n.a.getUserInfo().company_id;var p=r.a.apiHost+"/com/"+t+"/course/category/"+l;return i.a(p,{type:o,name:a,image:s,sort:c})}},{key:"moveCategory",value:function(e){var t=e.id,o=e.to,a=r.a.apiHost+"/course/category/"+t+"/move";return i.a(a,{to:o})}},{key:"moveCategoryContent",value:function(e){var t=e.id,o=e.to,a=r.a.apiHost+"/course/category/"+t+"/move/content";return i.a(a,{to:o})}},{key:"getUploadCategoryImgUrl",value:function(){return r.a.apiHost+"/common/upload/file"}},{key:"delete_cate",value:function(t){var o=c+"/category/delete/"+t;return i.b(o,{}).then(function(t){return 0==t.code?(xmview.showTip("success",t.message),t.data):(xmview.showTip("error",t.message),e.reject(t))})}},{key:"courseList",value:function(e,t,o){var a=c+"/search/name";return i.b(a,{keyword:e,page:t,pagesize:o}).then(function(e){return e.data})}},{key:"getPublicCourselist",value:function(t){var o=t.course_name,a=void 0===o?"":o,n=t.status,r=t.category_id,s=t.time_start,l=t.time_end,p=t.page,u=t.pagesize,d=c+"/lists";return i.b(d,{course_name:a,status:n,category_id:r,time_start:s,time_end:l,page:p,pagesize:u},!1).then(function(t){return 0==t.code?t.data:e.reject(t)})}},{key:"addCourse",value:function(t){var o=t.category_id,a=t.course_name,n=t.image,r=t.description,s=t.tags,l=t.type,p=t.material_type,u=t.material_id,d=t.need_testing,A=t.status,m=c+"/create";return i.a(m,{category_id:o,course_name:a,image:n,description:r,tags:s,type:l,material_type:p,material_id:u,need_testing:d,status:A}).then(function(t){return 0==t.code?t.data:e.reject(t)})}},{key:"getCourseInfo",value:function(e){var t=e.course_id,o=(n.a.getUserInfo().company_id,r.a.apiHost+"/course/get/"+t);return i.b(o).then(function(e){return e.data})}},{key:"editCourse",value:function(e){var t=e.govid,o=e.contentid,a=e.category_id,s=e.course_name,c=e.image,l=e.tags,p=e.type,u=e.material_type,d=e.material_id,A=e.description,m=e.need_testing,h=e.status,g=e.limit_time,f=e.limit_repeat,v=e.score_pass;t=t||n.a.getUserInfo().company_id;var b=r.a.apiHost+"/course/edit/"+o;return i.a(b,{category_id:a,course_name:s,image:c,tags:l,type:p,material_type:u,material_id:d,description:A,need_testing:m,limit_time:g,status:h,limit_repeat:f,score_pass:v}).then(function(e){return e.data})}},{key:"offlineCourse",value:function(e){var t=e.govid,o=e.course_id,a=e.disabled;t=t||n.a.getUserInfo().company_id;var s=r.a.apiHost+"/sys/course/"+o+"/disable";return i.a(s,{disabled:a})}},{key:"commonUploadImage",value:function(){return r.a.apiHost+"/common/upload/file"}},{key:"commonUploadImageBase",value:function(e){var t=e.image,o=e.alias,a=void 0===o?Date.now()+".jpg":o,n=e.biz,s=void 0===n?"course":n,c=e.extpath,l=r.a.apiHost+"/common/upload/base64";return i.a(l,{image:t,alias:a,biz:s,extpath:c}).then(function(e){return xmview.showTip("success",e.message),e.data})}},{key:"uploadCover4addCourse",value:function(e){var t=e.image,o=e.alias,a=void 0===o?Date.now()+".jpg":o,n=r.a.apiHost+"/course/subject/image";return i.a(n,{image:t,alias:a}).then(function(e){return e.data})}},{key:"deleteCourse",value:function(e){var t=e.govid,o=e.course_id;t=t||n.a.getUserInfo().company_id;var a=r.a.apiHost+"/com/"+t+"/course/"+o;return i.d(a,{})}},{key:"deleteCourseMulty",value:function(e){var t=e.govid,o=e.id;t=t||n.a.getUserInfo().company_id;var a=r.a.apiHost+"/com/"+t+"/course/batchdel";return i.a(a,{id:o})}},{key:"deleteVideoMulty",value:function(e){var t=e.id,o=c+"/video/batchdel";return i.a(o,{id:t})}},{key:"moveCourseToCategoryMulty",value:function(e){var t=e.govid,o=e.id,a=e.catid;t=t||n.a.getUserInfo().company_id;var s=r.a.apiHost+"/com/"+t+"/course/batchmove";return i.a(s,{id:o,catid:a})}},{key:"getCourseDocUploadUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.govid;return t=t||n.a.getUserInfo().company_id,r.a.apiHost+"/course/doc/upload"}},{key:"getTestingInfo",value:function(e){var t=e.course_id,o=r.a.apiHost+"/course/subject/listoptions";return i.b(o,{course_id:t}).then(function(e){return e.data})}},{key:"addOrEditTesting",value:function(t){var o=t.govid,a=t.course_id,s=t.subjects;o=o||n.a.getUserInfo().company_id;var c=r.a.apiHost+"/course/subject/updates/"+a;return i.a(c,s).then(function(t){return 0==t.code?(xmview.showTip("success",t.message),t.data):(xmview.showTip("error",t.message),e.reject(t))})}},{key:"getAlbumList",value:function(e){var t=e.govid,o=e.page,a=e.pagesize,s=e.keyword,c=e.time_start,l=e.time_end;t=t||n.a.getUserInfo().company_id;var p=r.a.apiHost+"/com/"+t+"/course/album/search";return i.b(p,{page:o,pagesize:a,keyword:s,time_start:c,time_end:l}).then(function(e){return e.data})}},{key:"deleteAlbum",value:function(e){var t=e.govid,o=e.id;t=t||n.a.getUserInfo().company_id;var a=r.a.apiHost+"/com/"+t+"/course/album/"+o;return i.d(a,{})}},{key:"deleteAlbumMulty",value:function(e){var t=e.govid,o=e.ids;t=t||n.a.getUserInfo().company_id;var a=r.a.apiHost+"/com/"+t+"/course/album/batchdel";return i.a(a,{id:o.join(",")})}},{key:"addAlbum",value:function(e){var t=e.govid,o=e.course_id,a=e.name;t=t||n.a.getUserInfo().company_id;var s=r.a.apiHost+"/com/"+t+"/course/album/add";return i.a(s,{course_id:o.join(","),name:a})}},{key:"editAlbum",value:function(e){var t=e.govid,o=e.course_id,a=e.name;t=t||n.a.getUserInfo().company_id;var s=r.a.apiHost+"/com/"+t+"/course/album/edit";return i.a(s,{course_id:o.join(","),name:a})}},{key:"getCourseSubject",value:function(e){var t=e.id,o=c+"/"+t+"/subject/stat";return i.b(o).then(function(e){return e.data})}},{key:"getSubjectAnswer",value:function(e){var t=e.c_id,o=e.s_id,a=c+"/"+t+"/subject/"+o+"/stat";return i.b(a).then(function(e){return e.data.stat})}}]),t}();t.a=new l}).call(t,o(9))},171:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:Array,closable:{type:Boolean,default:!0}},data:function(){return{currVal:this.value||[],inputVisible:!1,inputValue:void 0}},created:function(){},activated:function(){},watch:{value:function(e){(e!=this.currVal||e&&e.length!=this.currVal.length)&&(this.currVal=e)},currVal:function(e){e.length==this.currVal&&e==this.currVal||this.$emit("input",e)}},methods:{handleClose:function(e){this.currVal.splice(this.currVal.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick(function(t){e.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){var e=this.inputValue;e&&this.currVal.push(e),this.inputVisible=!1,this.inputValue=""}},components:{}}},172:function(e,t,o){t=e.exports=o(132)(!0),t.push([e.i,"#component-form-tags{display:inline-block}#component-form-tags .el-tag{margin-right:5px}#component-form-tags .input-new-tag{display:inline-block;width:80px!important}","",{version:3,sources:["/home/zhaoyicheng/devspace/admin_ui/assets/src/views/component/form/Tags.vue"],names:[],mappings:"AACA,qBAAqB,oBAAoB,CACxC,AACD,6BAA6B,gBAAgB,CAC5C,AACD,oCAAoC,qBAAqB,oBAAqB,CAC7E",file:"Tags.vue",sourcesContent:["\n#component-form-tags{display:inline-block\n}\n#component-form-tags .el-tag{margin-right:5px\n}\n#component-form-tags .input-new-tag{display:inline-block;width:80px !important\n}\n"],sourceRoot:""}])},173:function(e,t,o){var a=o(172);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(133)("0db94868",a,!0)},174:function(e,t,o){o(173);var a=o(10)(o(171),o(175),null,null);e.exports=a.exports},175:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("article",{attrs:{id:"component-form-tags"}},[e._l(e.currVal,function(t){return o("el-tag",{key:t,attrs:{closable:e.closable,"close-transition":!1},on:{close:function(o){e.handleClose(t)}}},[o("i",[e._v(e._s(t))])])}),e._v(" "),e.inputVisible?o("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{placeholder:"输入标签",size:"mini"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):o("el-button",{attrs:{size:"small"},on:{click:e.showInput}},[e._v("添加标签")])],2)},staticRenderFns:[]}},176:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(4),i=o(3);t.default={props:{url:{type:String,default:""},name:{type:String,default:"image"},onSuccess:Function,defaultImg:String,disabled:{type:Boolean,default:!1}},data:function(){return{uploadBtn:null,dialogVisible:!1,headers:void 0,forceShowUpload:!1,host:i.a.apiHost,currImg:[]}},watch:{currImg:function(e){e.length>0&&e[0].url?this.uploadBtn&&(this.uploadBtn.style.display="none"):this.uploadBtn.style.display="block"},defaultImg:function(e){this.currImg=e?[{name:e,url:e}]:[]},disabled:function(e){this.isShowDelAndPreview(!e),this.setDisabled(e)}},created:function(){this.currImg=this.defaultImg?[{name:this.defaultImg,url:this.defaultImg}]:[],this.headers={Authorization:"Bearer "+a.a.getAuthToken(),TwoStep:"Bearer "+a.a.getTwiceToken()}},activated:function(){this.uploadBtn&&(this.uploadBtn=this.$refs.container.querySelector(".el-upload--picture-card")),this.isShowDelAndPreview(!this.disabled),this.setDisabled(this.disabled)},mounted:function(){this.setDisabled(this.disabled),this.uploadBtn=this.$refs.container.querySelector(".el-upload--picture-card")},methods:{beforeUpload:function(){this.uploadBtn.style.display="none"},handleRemove:function(){var e=this;setTimeout(function(){e.clearFiles()},500)},handlePictureCardPreview:function(e){this.dialogVisible=!0},handleSuccess:function(e,t,o){0==e.code?this.onSuccess&&this.onSuccess(e):(xmview.showTip("error",e.message),this.handleRemove()),this.$refs.container.querySelector(".el-upload__input").value=null},clearFiles:function(){this.uploadBtn.style.display="block",this.isShowDefault=!0,this.currImg=[]},isShowDelAndPreview:function(e){var t=this.$refs.container.querySelector(".el-upload-list__item-actions");t&&(t.style.display=e?"block":"none")},setDisabled:function(e){e?this.$refs.container.querySelector("input").setAttribute("disabled","disabled"):this.$refs.container.querySelector("input").removeAttribute("disabled")}}}},177:function(e,t,o){t=e.exports=o(132)(!0),t.push([e.i,".component-upload-uploadimg .el-upload--picture-card i{left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.component-upload-uploadimg{width:100px;height:100px;display:inline-block}.component-upload-uploadimg.uploaddisabled *{color:#ededed;border-color:#ededed!important;cursor:auto}.component-upload-uploadimg.uploaddisabled .el-upload-list__item-delete{display:none!important}.component-upload-uploadimg .el-progress,.component-upload-uploadimg .el-progress--circle,.component-upload-uploadimg .el-progress--circle .el-progress-circle,.component-upload-uploadimg .el-progress--circle>*,.component-upload-uploadimg .el-progress .el-progress-circle,.component-upload-uploadimg .el-progress>*,.component-upload-uploadimg .el-upload--picture-card,.component-upload-uploadimg .el-upload-list__item,.component-upload-uploadimg .el-upload-list__item-actions{width:100%!important;height:100%!important}.component-upload-uploadimg>*{height:100%}.component-upload-uploadimg .defaultImg{position:relative;border-radius:5px}.component-upload-uploadimg .defaultImg:hover span{opacity:1}.component-upload-uploadimg .defaultImg img{width:100%;height:100%}.component-upload-uploadimg .defaultImg span{border-radius:5px;opacity:0;position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.4);text-align:center;transition:all .3s ease}.component-upload-uploadimg .defaultImg span i{font-size:30px;color:#fff;display:block;-webkit-transform:translateY(-50%);transform:translateY(-50%);top:50%;position:absolute;width:100%;cursor:pointer}.component-upload-uploadimg .el-upload--picture-card{position:relative}.component-upload-uploadimg .el-upload--picture-card i{position:absolute}","",{version:3,sources:["/home/zhaoyicheng/devspace/admin_ui/assets/src/views/component/upload/UploadImg.vue"],names:[],mappings:"AACA,uDAAuD,SAAS,QAAQ,oDAAoD,2CAA2C,CACtK,AACD,4BAA4B,YAAY,aAAa,oBAAoB,CACxE,AACD,6CAA6C,cAAc,+BAAgC,WAAW,CACrG,AACD,wEAAwE,sBAAuB,CAC9F,AACD,2dAA2d,qBAAsB,qBAAsB,CACtgB,AACD,8BAA8B,WAAW,CACxC,AACD,wCAAwC,kBAAkB,iBAAiB,CAC1E,AACD,mDAAmD,SAAS,CAC3D,AACD,4CAA4C,WAAW,WAAW,CACjE,AACD,6CAA6C,kBAAkB,UAAU,kBAAkB,WAAW,YAAY,MAAM,OAAO,0BAA2B,kBAAkB,uBAAyB,CACpM,AACD,+CAA+C,eAAe,WAAW,cAAc,mCAAmC,2BAA2B,QAAQ,kBAAkB,WAAW,cAAc,CACvM,AACD,qDAAqD,iBAAiB,CACrE,AACD,uDAAuD,iBAAiB,CACvE",file:"UploadImg.vue",sourcesContent:["\n.component-upload-uploadimg .el-upload--picture-card i{left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)\n}\n.component-upload-uploadimg{width:100px;height:100px;display:inline-block\n}\n.component-upload-uploadimg.uploaddisabled *{color:#ededed;border-color:#ededed !important;cursor:auto\n}\n.component-upload-uploadimg.uploaddisabled .el-upload-list__item-delete{display:none !important\n}\n.component-upload-uploadimg .el-upload--picture-card,.component-upload-uploadimg .el-upload-list__item-actions,.component-upload-uploadimg .el-upload-list__item,.component-upload-uploadimg .el-progress,.component-upload-uploadimg .el-progress--circle,.component-upload-uploadimg .el-progress .el-progress-circle,.component-upload-uploadimg .el-progress--circle .el-progress-circle,.component-upload-uploadimg .el-progress>*,.component-upload-uploadimg .el-progress--circle>*{width:100% !important;height:100% !important\n}\n.component-upload-uploadimg>*{height:100%\n}\n.component-upload-uploadimg .defaultImg{position:relative;border-radius:5px\n}\n.component-upload-uploadimg .defaultImg:hover span{opacity:1\n}\n.component-upload-uploadimg .defaultImg img{width:100%;height:100%\n}\n.component-upload-uploadimg .defaultImg span{border-radius:5px;opacity:0;position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,0.4);text-align:center;transition:all 300ms ease\n}\n.component-upload-uploadimg .defaultImg span i{font-size:30px;color:#fff;display:block;-webkit-transform:translateY(-50%);transform:translateY(-50%);top:50%;position:absolute;width:100%;cursor:pointer\n}\n.component-upload-uploadimg .el-upload--picture-card{position:relative\n}\n.component-upload-uploadimg .el-upload--picture-card i{position:absolute\n}\n"],sourceRoot:""}])},178:function(e,t,o){var a=o(177);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(133)("1c1de83c",a,!0)},179:function(e,t,o){o(178);var a=o(10)(o(176),o(180),null,null);e.exports=a.exports},180:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"container",staticClass:"component-upload-uploadimg",class:{uploaddisabled:e.disabled}},[o("el-upload",{attrs:{headers:e.headers,disabled:e.disabled,action:e.url,name:e.name,"list-type":"picture-card",multiple:!1,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-error":e.handleRemove,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,accept:"image/jpg,image/jpeg,image/png,image/gif","file-list":e.currImg}},[o("i",{staticClass:"el-icon-plus"})]),e._v(" "),o("el-dialog",{attrs:{size:"tiny"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[o("img",{attrs:{width:"100%",src:e.currImg.length>0&&e.currImg[0].url,alt:""}})])],1)},staticRenderFns:[]}},184:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(42),i=o(167);t.default={props:{value:[String,Number,Array],autoClear:{type:Boolean,default:!1},onchange:Function,placeholder:{type:String,default:"请选择"},showNotCat:{type:Boolean,default:!0},type:{type:String,default:""}},data:function(){return{loading:!1,options:[],currVal:this.value,govid:void 0,lastData:void 0}},watch:{value:function(e){this.setCurrVal(e)},currVal:function(e,t){this.$emit("input",e.length>0?parseInt(e[e.length-1]):e),this.onchange&&this.onchange(e)}},mounted:function(){var e=this;this.$refs.container.$el.addEventListener("click",function(){e.loading||e.options.length>0||(e.lastData?e.options=e.lastData:(e.loading=!0,i.a.search_cate({pid:0,level:-1}).then(function(t){t.forEach(function(t){e.options.push({data:t,label:t.name,value:t.id,children:t.ended?null:[]})}),e.loading=!1,xmview.setContentLoading(!1)})))})},deactivated:function(){this.autoClear&&this.options.length>0&&(this.lastData=this.options,this.options=[])},activated:function(){},methods:{setCurrVal:function(e){e||this.$refs.container.clearValue(new window.Event("click")),this.currVal!=e&&e&&(this.currVal=e)},handleItemChange:function(e){var t=this;if(!(e.length<1)){var o=a.a.findItem(this.options,e,"value");i.a.search_cate({pid:e[e.length-1],level:-1}).then(function(e){var a=e.map(function(e){return e.label=e.name,e.value=e.id,e.children=e.ended?null:[],e});o.children=a,t.loading=!1,xmview.setContentLoading(!1)})}},clearData:function(){this.lastData=this.options,this.options=[]}},components:{}}},185:function(e,t,o){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=o(198),n=o.n(i),r=o(191);o.n(r);t.default={props:{confirmFn:Function,aspectRatio:{type:Number,default:16/9},isRound:{type:Boolean,default:!1},isShowBtn:{isShowBtn:Boolean,default:!0},compress:{type:Number,default:.8},imgType:{type:String,default:"jpg"}},data:function(){return{showCropper:!1,imgData:"",finalRatio:null,cropper:null,imageType:void 0,ext:void 0}},watch:{showCropper:function(e){e||(this.cropper.destroy(),this.imgData=null)},aspectRatio:function(e){this.finalRatio=e||16/9}},created:function(){this.finalRatio=this.aspectRatio||16/9},methods:{chooseImg:function(){this.$refs.file.click()},fileChange:function(e){var t=e.target.files[0];if(t){var o=this,a=new window.FileReader;a.readAsDataURL(t),a.onload=function(){var e=this,i="jpg",n=t.name.split(".");if(n.length>0&&n.length-1>0&&(i=n[n.length-1]),"gif"==i)return o.confirmFn(a.result,"."+i),!1;o.$nextTick(function(){o.imgData=e.result,o.$refs.file.value=null,o.showCropper=!0,o.imageType=t.type,o.ext="."+i})}}},confirmCropper:function(){this.showCropper=!1,this.confirmFn&&this.confirmFn(this.cropper.getCroppedCanvas().toDataURL(""+this.imageType,this.compress),this.ext),this.imgData=null},startCropper:function(){var e=this.$refs.container.querySelector(".image-preview"),t=this;this.cropper=new n.a(e,{aspectRatio:this.finalRatio,scalable:!1,zoomable:!1,viewMode:1,ready:function(){t.isRound&&[].concat(a(t.$refs.container.querySelectorAll(".cropper-view-box,.cropper-face"))).map(function(e){e.style["border-radius"]="50%"})}})}},components:{}}},187:function(e,t,o){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=o(22),n=o(3),r=o(4),s=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),c=n.a.apiHost+"/video",l=function(){function e(){a(this,e)}return s(e,[{key:"search",value:function(e){var t=e.status,o=e.keyword,a=e.time_start,n=e.time_end,r=c+"/lists";return null!=t&&""!==t||(t=-1),i.b(r,{status:t,keyword:o,time_start:a,time_end:n}).then(function(e){return e.data})}},{key:"update",value:function(e){var t=e.id,o=e.name,a=e.tags,n=e.cover,r=e.duration,s=c+"/"+t+"/";return i.a(s,{name:o,tags:a,cover:n,duration:r})}},{key:"delete",value:function(e){var t=e.id,o=c+"/"+t;return i.d(o)}},{key:"deleteMulty",value:function(e){var t=e.id,o=c+"/batchdel";return i.a(o,{id:t})}},{key:"getOssToken",value:function(){var e=c+"/video/upload";return i.b(e,{}).then(function(e){return e.data})}},{key:"refreshStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,o=c+"/refresh/aliyun/status";return i.a(o,{id:t})}},{key:"getPreviewInfo",value:function(e){var t=c+"/"+e+"/preview";return i.b(t).then(function(e){return e.data})}},{key:"getVideo",value:function(e,t,o,a,n,r,s,l){var p=c+"/lists";return i.b(p,e,t,o,a,n,r,s,l).then(function(e){return e.data})}},{key:"create",value:function(e){var t=e.file_name,o=e.size,a=e.gov_id,n=e.tags,r=e.source_type,s=e.source_url,l=c+"/create";return i.a(l,{file_name:t,size:o,gov_id:a,tags:n,source_type:r,source_url:s})}},{key:"updateVideo",value:function(e){var t=e.file_name,o=e.gov_id,a=e.tags,n=e.cover,s=e.duration,l=e.material_id;o=o||r.a.getUserInfo().gov_id;var p=c+"/edit/"+l;return i.a(p,{file_name:t,gov_id:o,tags:a,cover:n,duration:s})}},{key:"getOssToken",value:function(){var e=n.a.apiHost+"/video/upload";return i.b(e).then(function(e){return e.data})}},{key:"refreshVideoStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.companyid,o=e.id;t=t||r.a.getUserInfo().company_id;var a=c+"/refresh/"+o;return i.a(a,{id:o})}},{key:"getUploadCoverUrl",value:function(){return c+"/cover"}},{key:"deleteVideo",value:function(e){var t=e.id,o=c+"/video/"+t;return i.d(o)}},{key:"getVideoPreviewUrl",value:function(e){var t=c+"/get/"+e;return i.b(t).then(function(e){return e.data})}},{key:"auditVideo",value:function(e){var t=c+"/video/"+e.id+"/audit";return i.a(t,e)}}]),e}();t.a=new l},188:function(e,t,o){t=e.exports=o(132)(!0),t.push([e.i,'/*!\n * Cropper.js v1.1.3\n * https://github.com/fengyuanchen/cropperjs\n *\n * Copyright (c) 2015-2017 Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2017-10-21T09:27:29.883Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline-color:rgba(51,153,255,.75);outline:1px solid #39f;overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:e-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:n-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:w-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:s-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:e-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:n-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:w-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:ne-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nw-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:sw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:se-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}',"",{version:3,sources:["/home/zhaoyicheng/devspace/admin_ui/assets/node_modules/cropperjs/dist/cropper.min.css"],names:[],mappings:"AAAA;;;;;;;;GAQG,mBAAmB,cAAc,YAAY,cAAc,kBAAkB,sBAAsB,kBAAkB,yBAAyB,sBAAsB,qBAAqB,gBAAgB,CAAC,uBAAuB,cAAc,YAAY,uBAAuB,0BAA0B,yBAAyB,uBAAuB,sBAAsB,UAAU,CAAC,qFAAqF,SAAS,OAAO,kBAAkB,QAAQ,KAAK,CAAC,kCAAkC,eAAe,CAAC,kBAAkB,sBAAsB,SAAS,CAAC,eAAe,sBAAsB,UAAU,CAAC,kBAAkB,cAAc,YAAY,mCAAmC,uBAAuB,gBAAgB,UAAU,CAAC,gBAAgB,qBAAqB,cAAc,WAAW,iBAAiB,CAAC,yBAAyB,wBAAwB,qBAAqB,iBAAiB,OAAO,cAAc,UAAU,CAAC,yBAAyB,sBAAsB,uBAAuB,YAAY,eAAe,MAAM,eAAe,CAAC,gBAAgB,cAAc,SAAS,SAAS,YAAY,kBAAkB,QAAQ,OAAO,CAAC,6CAA6C,sBAAsB,YAAY,cAAc,iBAAiB,CAAC,uBAAuB,WAAW,UAAU,MAAM,SAAS,CAAC,sBAAsB,WAAW,OAAO,SAAS,SAAS,CAAC,2CAA2C,cAAc,YAAY,WAAW,kBAAkB,UAAU,CAAC,cAAc,sBAAsB,OAAO,KAAK,CAAC,cAAc,qBAAqB,CAAC,qBAAqB,gBAAgB,WAAW,MAAM,SAAS,CAAC,qBAAqB,gBAAgB,WAAW,OAAO,QAAQ,CAAC,qBAAqB,gBAAgB,UAAU,MAAM,SAAS,CAAC,qBAAqB,YAAY,gBAAgB,WAAW,MAAM,CAAC,eAAe,sBAAsB,WAAW,YAAY,SAAS,CAAC,uBAAuB,gBAAgB,gBAAgB,WAAW,OAAO,CAAC,uBAAuB,gBAAgB,SAAS,iBAAiB,QAAQ,CAAC,uBAAuB,gBAAgB,UAAU,gBAAgB,OAAO,CAAC,uBAAuB,YAAY,gBAAgB,SAAS,gBAAgB,CAAC,wBAAwB,iBAAiB,WAAW,QAAQ,CAAC,wBAAwB,iBAAiB,UAAU,QAAQ,CAAC,wBAAwB,YAAY,iBAAiB,SAAS,CAAC,wBAAwB,YAAY,iBAAiB,YAAY,UAAU,WAAW,UAAU,CAAC,yBAAyB,wBAAwB,YAAY,UAAU,CAAC,CAAC,yBAAyB,wBAAwB,YAAY,UAAU,CAAC,CAAC,0BAA0B,wBAAwB,WAAW,YAAY,SAAS,CAAC,CAAC,+BAA+B,sBAAsB,YAAY,YAAY,cAAc,YAAY,UAAU,kBAAkB,WAAW,UAAU,CAAC,mBAAmB,SAAS,CAAC,YAAY,8QAA8Q,CAAC,cAAc,cAAc,SAAS,kBAAkB,OAAO,CAAC,gBAAgB,sBAAsB,CAAC,cAAc,WAAW,CAAC,cAAc,gBAAgB,CAAC,qIAAqI,kBAAkB,CAAC",file:"cropper.min.css",sourcesContent:['/*!\n * Cropper.js v1.1.3\n * https://github.com/fengyuanchen/cropperjs\n *\n * Copyright (c) 2015-2017 Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2017-10-21T09:27:29.883Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline-color:rgba(51,153,255,.75);outline:1px solid #39f;overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:e-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:n-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:w-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:s-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:e-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:n-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:w-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:ne-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nw-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:sw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:se-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}\n/*# sourceMappingURL=cropper.min.css.map */'],sourceRoot:""}])},189:function(e,t,o){t=e.exports=o(132)(!0),t.push([e.i,"#image-ecropper-input-container .croppercontainer img[data-v-5f6a0a16]{max-height:600px}#image-ecropper-input-container .dialog-footer[data-v-5f6a0a16]{text-align:right!important}","",{version:3,sources:["/home/zhaoyicheng/devspace/admin_ui/assets/src/views/component/upload/ImagEcropperInput.vue"],names:[],mappings:"AACA,uEAAuE,gBAAgB,CACtF,AACD,gEAAgE,0BAA2B,CAC1F",file:"ImagEcropperInput.vue",sourcesContent:["\n#image-ecropper-input-container .croppercontainer img[data-v-5f6a0a16]{max-height:600px\n}\n#image-ecropper-input-container .dialog-footer[data-v-5f6a0a16]{text-align:right !important\n}\n"],sourceRoot:""}])},190:function(e,t,o){t=e.exports=o(132)(!0),t.push([e.i,".course-select-container .el-icon-caret-bottom{text-align:center;text-align-last:center}","",{version:3,sources:["/home/zhaoyicheng/devspace/admin_ui/assets/src/views/component/select/CourseCategory.vue"],names:[],mappings:"AACA,+CAA+C,kBAAkB,sBAAsB,CACtF",file:"CourseCategory.vue",sourcesContent:["\n.course-select-container .el-icon-caret-bottom{text-align:center;text-align-last:center\n}\n"],sourceRoot:""}])},191:function(e,t,o){var a=o(188);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(133)("0f9ada6c",a,!0)},192:function(e,t,o){var a=o(189);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(133)("45a88f8c",a,!0)},193:function(e,t,o){var a=o(190);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(133)("3ffdb2f2",a,!0)},194:function(e,t,o){o(193);var a=o(10)(o(184),o(197),null,null);e.exports=a.exports},195:function(e,t,o){o(192);var a=o(10)(o(185),o(196),"data-v-5f6a0a16",null);e.exports=a.exports},196:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("article",{ref:"container",attrs:{id:"image-ecropper-input-container"}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isShowBtn,expression:"isShowBtn"}],attrs:{type:"primary"},on:{click:e.chooseImg}},[e._v("上传"),o("i",{staticClass:"el-icon-upload el-icon--right"})]),e._v(" "),o("el-dialog",{attrs:{"close-on-click-modal":!1,title:"裁切图片",size:"large",top:"15px"},model:{value:e.showCropper,callback:function(t){e.showCropper=t},expression:"showCropper"}},[o("div",{staticClass:"croppercontainer"},[o("img",{staticClass:"image-preview",attrs:{src:e.imgData},on:{load:function(t){e.startCropper()}}})]),e._v(" "),o("span",{staticClass:"dialog-footer",slot:"footer"},[o("el-button",{on:{click:function(t){e.showCropper=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.confirmCropper()}}},[e._v("确 定")])],1)]),e._v(" "),o("input",{ref:"file",staticStyle:{display:"none"},attrs:{accept:"image/jpg,image/jpeg,image/png",type:"file"},on:{change:function(t){e.fileChange(t)}}})],1)},staticRenderFns:[]}},197:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-cascader",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"container",staticClass:"course-select-container",attrs:{options:e.options,"show-all-levels":!1,placeholder:e.placeholder,clearable:!0},on:{"active-item-change":e.handleItemChange,change:e.setCurrVal}})},staticRenderFns:[]}},198:function(e,t,o){e.exports=o(5)(183)},199:function(e,t,o){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{requestCb:Function,changeCb:Function,value:[String,Number],placeholder:{type:String,default:"请选择"},disabled:{type:Boolean,default:!1},list:Array},data:function(){return{keyword:void 0,selectVal:this.value,data:null==this.list?[]:this.list,loading:!1,currPlaceholder:this.placeholder,input:null,isSearching:!1,isShowGetMore:!0}},watch:{data:function(e){e.length<1&&(this.currPlaceholder=this.placeholder),this.initGetMore(),this.loading=!1},placeholder:function(e){this.currPlaceholder=e},value:function(e){this.selectVal!=e&&(this.selectVal=e),null!=this.value&&this.currPlaceholder&&this.data.length<1&&this.data.push({id:this.value,name:this.placeholder})}},created:function(){this.value&&this.currPlaceholder&&this.data.length<1&&this.data.push({id:this.value,name:this.placeholder})},mounted:function(){this.input=this.$refs.container.$el.querySelector("input")},methods:{filter:function(e){var t=this;this.loading=!0,this.keyword=e,this.requestCb(e,0).then(function(e){t.isShowGetMore=!0,t.processRequestRet(e,1)})},initGetMore:function(){var e=this,t=this;this.$nextTick(function(){var o=e.$refs.domLoading.parentNode;o.loaded||(o.loaded=!0,o.addEventListener("click",function(e){t.input.focus(),t.loading=!0,e=e||window.event,e.preventDefault(),e.stopPropagation(),t.requestCb(t.keyword,t.data.length).then(function(e){t.processRequestRet(e)}),o.loaded=!1},!0))})},handleChange:function(e){this.changeCb&&this.changeCb(e),this.$emit("input",e)},handleVisibleChange:function(e){var t=this;if(0==e)return void(this.currPlaceholder=this.placeholder);this.initGetMore(),(!this.data||this.data.length<1)&&(this.loading=!0,this.requestCb(this.keyword,0).then(function(e){t.processRequestRet(e)}))},processRequestRet:function(e){var t=this;if(0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)){var o;e.data=e.data.filter(function(e){return e.id!=t.value}),(o=this.data).push.apply(o,a(e.data))}else this.data=e.data;this.isShowGetMore=this.data.length<e.total}}}},211:function(e,t,o){t=e.exports=o(132)(!0),t.push([e.i,".component-form-selectscroll-more{color:#50bfff;cursor:pointer}","",{version:3,sources:["/home/zhaoyicheng/devspace/admin_ui/assets/src/views/component/form/SelectScroll.vue"],names:[],mappings:"AACA,kCAAkC,cAAc,cAAc,CAC7D",file:"SelectScroll.vue",sourcesContent:["\n.component-form-selectscroll-more{color:#50bfff;cursor:pointer\n}\n"],sourceRoot:""}])},213:function(e,t,o){var a=o(211);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(133)("3cfb5a30",a,!0)},214:function(e,t,o){o(213);var a=o(10)(o(199),o(219),null,null);e.exports=a.exports},219:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-select",{ref:"container",attrs:{placeholder:e.currPlaceholder,clearable:!0,"no-data-text":"暂无数据",disabled:e.disabled,"no-match-text":"没有数据"},on:{"visible-change":e.handleVisibleChange,change:e.handleChange},model:{value:e.selectVal,callback:function(t){e.selectVal=t},expression:"selectVal"}},[o("el-option",{staticStyle:{height:"50px"},attrs:{disabled:!0,value:"xmystinputval"}},[o("el-input",{attrs:{placeholder:"搜索内容"},on:{change:e.filter}})],1),e._v(" "),e._l(e.data,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),e._v(" "),o("el-option",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"show",rawName:"v-show",value:!this.data||this.data.length<1,expression:"!this.data || this.data.length < 1"}],attrs:{value:"xmyst2",disabled:!0}},[o("span",[e._v("暂无数据")])]),e._v(" "),o("el-option",{directives:[{name:"show",rawName:"v-show",value:e.isShowGetMore&&this.data&&this.data.length>0,expression:"isShowGetMore && this.data && this.data.length > 0"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{value:"xmyst1",disabled:!0}},[o("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],ref:"domLoading",staticClass:"component-form-selectscroll-more"},[e._v("点击加载更多")]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[e._v("加载中...")])])],2)},staticRenderFns:[]}},233:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(167),i=o(214),n=o.n(i);t.default={props:{value:[String,Number],change:Function,placeholder:String,list:Array,disabled:{type:Boolean,default:!1}},components:{SelectScroll:n.a},data:function(){return{currVal:this.value,pageSize:20}},watch:{value:function(e,t){this.currVal!==e&&(this.currVal=e)},currVal:function(e){this.curVal!=e&&(this.currVal=e,this.$emit("input",e))}},methods:{handleChange:function(e){this.change&&this.change()},fetchData:function(e,t){var o=e,i=parseInt(t/this.pageSize)+1;return a.a.getAlbumList({keyword:o,page:i,pagesize:this.pageSize})}}}},237:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(4);t.default={props:{beforeUpload:Function,url:{type:String,default:"https://jsonplaceholder.typicode.com/posts/"},defaultFile:String,onSuccess:Function,disabled:{type:Boolean,default:!1},btnTitle:{type:String,default:"点击上传"},accept:{type:String,default:"*/*"},onProgress:Function,onError:Function,autoUpload:{type:Boolean,default:!0}},data:function(){return{headers:{},fileList:this.defaultFile?[{name:this.defaultFile}]:[]}},created:function(){this.headers={Authorization:"Bearer "+a.a.getAuthToken(),TwoStep:"Bearer "+a.a.getTwiceToken()}},activated:function(){this.headers={Authorization:"Bearer "+a.a.getAuthToken(),TwoStep:"Bearer "+a.a.getTwiceToken()}},methods:{handleUploadMedia:function(e,t){this.onSuccess&&this.onSuccess(e),this.fileList=[{name:t.name}]},choose:function(){this.$refs.upload.$el.querySelector("input[type=file]").click()},handleError:function(){xmview.showTip("error","上传失败"),this.onError&&this.onError()},submit:function(){this.$refs.upload.submit()},clearFiles:function(){this.$refs.upload.clearFiles()}},components:{}}},241:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(187);t.default={props:{onSelect:Function,value:Boolean},data:function(){return{isShowDialog:this.value,data:[],loadingData:!1,total:0,fetchParam:{file_name:void 0,status:0,page:1,pagesize:15}}},watch:{"fetchParam.page":function(){this.fetchData()},"fetchParam.pagesize":function(){this.fetchData()},value:function(e){this.setShowDialog(e)},isShowDialog:function(e){this.$emit("input",e),this.setShowDialog(e),this.data.length<1&&this.fetchData()}},methods:{fetchData:function(){var e=this;this.loadingData=!0,a.a.search(this.fetchParam).then(function(t){e.data=t,e.total=t.total,e.loadingData=!1,xmview.setContentLoading(!1)})},selectVideo:function(e,t){this.setShowDialog(!1),this.onSelect&&this.onSelect(t)},setShowDialog:function(e){e!==this.isShowDialog&&(this.isShowDialog=e)}},components:{}}},242:function(e,t,o){"use strict";function a(){return{contentid:void 0,category_id:void 0,category_type:void 0,course_name:void 0,name:void 0,image:void 0,tags:void 0,gov:void 0,type:void 0,material_type:void 0,material_id:void 0,material_name:"选择视频",albumid:void 0,album_name:void 0,description:void 0,need_testing:void 0,limit_time:void 0,limit_repeat:void 0,score_pass:void 0,price_enabled:void 0,price:void 0,price_floa:void 0}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(167),n=o(179),r=o.n(n),s=o(195),c=o.n(s),l=o(355),p=o.n(l),u=o(354),d=o.n(u),A=o(194),m=o.n(A),h=o(351),g=o.n(h),f=o(274),v=o(272),b=o(174),C=o.n(b);t.default={name:"course-manage-addcourse",data:function(){return{activeTab:"first",uploadDocUrl:"",isShowVideoDialog:!1,fetchParam:a(),courseTags:[],rulesFirst:{course_name:{required:!0,message:"请输入课程名称",trigger:"change"},category_id:{required:!0,type:"number",message:"请选择课程栏目",trigger:"change"},description:{required:!0,message:"请输入课程介绍",trigger:"change"},material_id:{required:!0,type:"number",message:"请上传课程文件",trigger:"change"},need_testing:{required:!0,type:"number",message:"请选择是否需要课后考试",trigger:"change"}},accept:"*.doc,*.docx",fetchTesting:[],readonly:!1}},created:function(){var e=this;this.uploadDocUrl=i.a.getCourseDocUploadUrl(),this.uploadImgUrl=i.a.commonUploadImage(),this.$route.params.courseInfo?(this.activeTab="first",this.fetchParam=this.$route.params.courseInfo,this.fetchParam.name=this.$route.params.courseInfo.name,this.courseTags=this.fetchParam.tags?this.fetchParam.tags.split(","):[],xmview.setContentTile("编辑课程-培训")):this.$route.query.contentid&&(this.activeTab="first",i.a.getCourseInfo({course_id:this.$route.query.contentid}).then(function(t){e.fetchParam=t.course,e.fetchParam.course_name=e.$route.params.courseInfo.course_name,e.courseTags=e.fetchParam.tags?e.fetchParam.tags.split(","):[],xmview.setContentTile("编辑课程-培训")}).catch(function(e){xmview.showTip("error",e.message)})),this.$route.params.tab&&(this.activeTab=this.$route.params.tab),this.readonly=this.$route.params.readonly,xmview.setContentLoading(!1)},watch:{"fetchParam.need_testing":function(e){1==e?(this.rulesFirst.limit_time={required:!0,message:"请输入考试时间",trigger:"change"},this.rulesFirst.score_pass={required:!0,message:"请输入及格分数",trigger:"change"}):(this.$delete(this.rulesFirst,"limit_time"),this.$delete(this.rulesFirst,"score_pass"))},activeTab:function(e){var t=this;"second"===e&&this.fetchParam.contentid&&(xmview.setContentLoading(!0),i.a.getTestingInfo({course_id:this.fetchParam.contentid}).then(function(e){t.fetchTesting=e,t.fetchTesting.forEach(function(e){1==e.category&&e.options.forEach(function(t,o){1==t.correct&&(e.correct=o)})}),xmview.setContentLoading(!1)}))},"fetchParam.albumid":function(e){e||(this.fetchParam.album_name=void 0,this.fetchParam.albumid=void 0)}},methods:{btnNextClick:function(){var e=this;this.fetchParam.limit_time&&(this.fetchParam.limit_time+=""),this.fetchParam.score_pass&&(this.fetchParam.score_pass+=""),this.fetchParam.tags=this.courseTags?this.courseTags.join(","):"",this.$refs.formFirst.validate(function(t){if(t){var o=void 0;o=e.fetchParam.contentid?i.a.editCourse(e.fetchParam).then(function(t){e.activeTab="second"}):i.a.addCourse(e.fetchParam).then(function(t){e.fetchParam.contentid=t.contentid,e.activeTab="second"}),o.then(function(){0===e.fetchParam.need_testing&&e.$router.back()})}})},btnPreClick:function(){this.activeTab="first"},handleUploadMedia:function(e){this.fetchParam.material_id=e.data.contentid},cropperImgSucc:function(e){var t=this;i.a.commonUploadImageBase({image:e,extpath:""}).then(function(e){t.fetchParam.image=e.url})},handleVideoSelected:function(e){this.fetchParam.material_name=e.title,this.fetchParam.material_id=e.material_id},addTesting:function(e,t){this.fetchTesting.splice(t,0,f.a.getTestingSet(e))},deleteTesting:function(e,t){var o=this;xmview.showDialog('是否确定删除题目【 <i style="color:red">'+(t.description||"")+"</i> 】?",function(){o.fetchTesting.splice(e,1)})},addMoreTestingOption:function(e){e.push({description:"",correct:""})},handleSubmitTesting:function(){var e=this,t=null;if(!this.fetchTesting||this.fetchTesting.length<1)return void this.$router.back();for(var o=JSON.parse(JSON.stringify(this.fetchTesting)),a=0;o.length,t=o[a];a++)1==t.category&&"number"==typeof t.correct&&t.options&&(t.options.map(function(e){delete e.correct}),t.options[t.correct].correct=1,delete t.correct),t.sort=a+1,t.options&&t.options.map(function(e,t){e.sort=t+1});xmview.setContentLoading(!0),i.a.addOrEditTesting({course_id:this.fetchParam.contentid,subjects:encodeURI(v.a.serializeArray(o)).replace(/\+/g,"%2B")}).then(function(t){xmview.showTip("success","操作成功"),e.$router.back()},function(){}).then(function(){xmview.setContentLoading(!1)})},handleUploadDoc:function(e){this.fetchParam.material_id=e.data.contentid},typeChange:function(e){"doc"===e?this.accept=".doc,.docx":"ppt"===e?this.accept=".ppt,pptx":"pdf"===e&&(this.accept=".pdf")}},components:{CropperImg:c.a,UploadFile:d.a,CourseCategorySelect:m.a,CourseAlbumSelect:g.a,DialogVideo:p.a,UploadImg:r.a,vTags:C.a}}},272:function(e,t,o){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,o,a){var i="";return n.c(t)||n.d(t)?i+=c(t,o+"["+e+"]",a):(t=null==t?"":t,i+=o+"["+e+"]="+t+"&"),i}var n=o(16),r=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),s=function(){function e(){a(this,e)}return r(e,[{key:"serializeArray",value:function(e,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=c(e,t,o);return a.substr(0,a.length-1)}},{key:"serializeObjectWithArrayInt",value:function(e){var t="";for(var o in e)n.c(e[o])?e[o].forEach(function(e){t+="int[]="+e+"&"}):t+=o+"="+e[o];return t}}]),e}(),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"subjects",o=arguments[2],a="";if(n.c(e))e.forEach(function(e,n){a+=i(o?n:"",e,t,o)});else if(n.d(e))for(var r in e)a+=i(r,e[r],t,o);return a};t.a=new s},274:function(e,t,o){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),n=function(){function e(){a(this,e)}return i(e,[{key:"getOrignData",value:function(){return{description:void 0,score:void 0,image:void 0,explain:void 0,correct:void 0,editable:!0,options:[{sort:1,description:"",correct:void 0}]}}},{key:"getTestingSet",value:function(e){var t=this.getOrignData();return t.category=e,0==e?(delete t.options,t.correct=void 0,t):1==e||2==e?t:void 0}}]),e}();t.a=new n},306:function(e,t,o){t=e.exports=o(132)(!0),t.push([e.i,'#course-manage-addcourse-container{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff}#course-manage-addcourse-container:after{content:"";clear:both;display:block}#course-manage-addcourse-container .pagin{float:right;margin-top:15px}#course-manage-addcourse-container .bottom-manage{margin-top:15px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}#course-manage-addcourse-container h2{margin-bottom:10px}#course-manage-addcourse-container .el-tab-pane,#course-manage-addcourse-container .tab{max-width:700px}#course-manage-addcourse-container .el-upload-list__item{position:relative}#course-manage-addcourse-container .el-upload-list__item .el-icon-close{position:absolute;right:5px;top:5px}#course-manage-addcourse-container .testing-set .el-form{padding-top:17px}#course-manage-addcourse-container .testing-set .el-form:first-of-type{padding-top:0}#course-manage-addcourse-container .testing-set .el-form hr{position:absolute;width:100%;border-top:none;border-color:#bbb}#course-manage-addcourse-container .testing-set .el-form h5{font-size:14px;color:#666}#course-manage-addcourse-container .testing-set .el-form .el-input{display:inline-block;width:60%;vertical-align:middle}#course-manage-addcourse-container .testing-set .el-form .multy-choose-item{margin:5px 0}#course-manage-addcourse-container .testing-set .el-form .multy-choose-item:last-of-type{margin-bottom:0}#course-manage-addcourse-container .testing-set .bottom-btns .submit{float:right}',"",{version:3,sources:["/home/zhaoyicheng/devspace/admin_ui/assets/src/views/course/manage/AddCourse.vue"],names:[],mappings:"AACA,mCAAmC,aAAa,kBAAkB,yBAAyB,kBAAkB,eAAe,CAC3H,AACD,yCAAyC,WAAW,WAAW,aAAa,CAC3E,AACD,0CAA0C,YAAY,eAAe,CACpE,AACD,kDAAkD,eAAe,CAChE,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,sCAAsC,kBAAkB,CACvD,AAGD,wFAAgD,eAAe,CAC9D,AACD,yDAAyD,iBAAiB,CACzE,AACD,wEAAwE,kBAAkB,UAAU,OAAO,CAC1G,AACD,yDAAyD,gBAAgB,CACxE,AACD,uEAAuE,aAAa,CACnF,AACD,4DAA4D,kBAAkB,WAAW,gBAAgB,iBAAiB,CACzH,AACD,4DAA4D,eAAe,UAAU,CACpF,AACD,mEAAmE,qBAAqB,UAAU,qBAAqB,CACtH,AACD,4EAA4E,YAAY,CACvF,AACD,yFAAyF,eAAe,CACvG,AACD,qEAAqE,WAAW,CAC/E",file:"AddCourse.vue",sourcesContent:["\n#course-manage-addcourse-container{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\n}\n#course-manage-addcourse-container:after{content:'';clear:both;display:block\n}\n#course-manage-addcourse-container .pagin{float:right;margin-top:15px\n}\n#course-manage-addcourse-container .bottom-manage{margin-top:15px\n}\n.text-blue{color:#20A0FF\n}\n.text-light-blue{color:#58B7FF\n}\n.text-dark-blue{color:#1D8CE0\n}\n.text-success{color:#13CE66\n}\n.text-warning{color:#F7BA2A\n}\n.text-danger{color:#FF4949\n}\n#course-manage-addcourse-container h2{margin-bottom:10px\n}\n#course-manage-addcourse-container .tab{max-width:700px\n}\n#course-manage-addcourse-container .el-tab-pane{max-width:700px\n}\n#course-manage-addcourse-container .el-upload-list__item{position:relative\n}\n#course-manage-addcourse-container .el-upload-list__item .el-icon-close{position:absolute;right:5px;top:5px\n}\n#course-manage-addcourse-container .testing-set .el-form{padding-top:17px\n}\n#course-manage-addcourse-container .testing-set .el-form:first-of-type{padding-top:0\n}\n#course-manage-addcourse-container .testing-set .el-form hr{position:absolute;width:100%;border-top:none;border-color:#bbb\n}\n#course-manage-addcourse-container .testing-set .el-form h5{font-size:14px;color:#666\n}\n#course-manage-addcourse-container .testing-set .el-form .el-input{display:inline-block;width:60%;vertical-align:middle\n}\n#course-manage-addcourse-container .testing-set .el-form .multy-choose-item{margin:5px 0\n}\n#course-manage-addcourse-container .testing-set .el-form .multy-choose-item:last-of-type{margin-bottom:0\n}\n#course-manage-addcourse-container .testing-set .bottom-btns .submit{float:right\n}\n"],sourceRoot:""}])},308:function(e,t,o){t=e.exports=o(132)(!0),t.push([e.i,'#course-component-dialogvideo{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff}#course-component-dialogvideo:after{content:"";clear:both;display:block}#course-component-dialogvideo .pagin{float:right;margin-top:15px}#course-component-dialogvideo .bottom-manage{margin-top:15px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}#course-component-dialogvideo .search>section{margin-left:10px;margin-bottom:14px;display:inline-block;margin-right:10px}#course-component-dialogvideo .search>section>span,#course-component-dialogvideo .search>section i{margin-right:2px}#course-component-dialogvideo .search>section>*{vertical-align:middle;display:inline-block}#course-component-dialogvideo .search .el-input{width:auto}.keyword-container{width:90%;margin-left:5%;margin-bottom:5px}',"",{version:3,sources:["/home/zhaoyicheng/devspace/admin_ui/assets/src/views/course/component/DialogVideo.vue"],names:[],mappings:"AACA,8BAA8B,aAAa,kBAAkB,yBAAyB,kBAAkB,eAAe,CACtH,AACD,oCAAoC,WAAW,WAAW,aAAa,CACtE,AACD,qCAAqC,YAAY,eAAe,CAC/D,AACD,6CAA6C,eAAe,CAC3D,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,8CAA8C,iBAAiB,mBAAmB,qBAAqB,iBAAiB,CACvH,AACD,mGAAmG,gBAAgB,CAClH,AACD,gDAAgD,sBAAsB,oBAAoB,CACzF,AACD,gDAAgD,UAAU,CACzD,AACD,mBAAmB,UAAU,eAAe,iBAAiB,CAC5D",file:"DialogVideo.vue",sourcesContent:["\n#course-component-dialogvideo{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\n}\n#course-component-dialogvideo:after{content:'';clear:both;display:block\n}\n#course-component-dialogvideo .pagin{float:right;margin-top:15px\n}\n#course-component-dialogvideo .bottom-manage{margin-top:15px\n}\n.text-blue{color:#20A0FF\n}\n.text-light-blue{color:#58B7FF\n}\n.text-dark-blue{color:#1D8CE0\n}\n.text-success{color:#13CE66\n}\n.text-warning{color:#F7BA2A\n}\n.text-danger{color:#FF4949\n}\n#course-component-dialogvideo .search>section{margin-left:10px;margin-bottom:14px;display:inline-block;margin-right:10px\n}\n#course-component-dialogvideo .search>section>span,#course-component-dialogvideo .search>section i{margin-right:2px\n}\n#course-component-dialogvideo .search>section>*{vertical-align:middle;display:inline-block\n}\n#course-component-dialogvideo .search .el-input{width:auto\n}\n.keyword-container{width:90%;margin-left:5%;margin-bottom:5px\n}\n"],sourceRoot:""}])},343:function(e,t,o){var a=o(306);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(133)("1a0c712c",a,!0)},345:function(e,t,o){var a=o(308);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(133)("314e100e",a,!0)},351:function(e,t,o){var a=o(10)(o(233),o(371),null,null);e.exports=a.exports},354:function(e,t,o){var a=o(10)(o(237),o(370),null,null);e.exports=a.exports},355:function(e,t,o){o(345);var a=o(10)(o(241),o(400),null,null);e.exports=a.exports},370:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-upload",{ref:"upload",attrs:{"before-upload":e.beforeUpload,headers:e.headers,action:e.url,"file-list":e.fileList,accept:e.accept,"on-error":e.handleError,"auto-upload":e.autoUpload,"on-success":e.handleUploadMedia,multiple:!1,"on-progress":e.onProgress}},[o("el-button",{attrs:{size:"small",disabled:e.disabled,type:"primary"}},[o("i",[o("i",{staticClass:"el-icon-upload el-icon--left"})]),e._v(e._s(e.btnTitle)+"\n    ")])],1)},staticRenderFns:[]}},371:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("SelectScroll",{attrs:{changeCb:e.handleChange,requestCb:e.fetchData,placeholder:e.placeholder,disabled:e.disabled},model:{value:e.currVal,callback:function(t){e.currVal=t},expression:"currVal"}})},staticRenderFns:[]}},398:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("article",{attrs:{id:"course-manage-addcourse-container"}},[o("el-tabs",{staticClass:"tab",model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[o("el-tab-pane",{attrs:{label:"课程信息",name:"first"}},[o("el-form",{ref:"formFirst",attrs:{"label-width":"120px",rules:e.rulesFirst,model:e.fetchParam}},[o("el-form-item",{attrs:{label:"所属栏目",prop:"category_id"}},[o("CourseCategorySelect",{attrs:{type:"course",placeholder:e.fetchParam.category_name,autoClear:!0,showNotCat:!1},model:{value:e.fetchParam.category_id,callback:function(t){e.fetchParam.category_id=t},expression:"fetchParam.category_id"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"课程名称",prop:"course_name"}},[o("el-input",{model:{value:e.fetchParam.course_name,callback:function(t){e.fetchParam.course_name=t},expression:"fetchParam.course_name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"课程类别"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.fetchParam.type,callback:function(t){e.fetchParam.type=t},expression:"fetchParam.type"}},[o("el-option",{attrs:{label:"私有课程",value:"private"}}),e._v(" "),o("el-option",{attrs:{label:"公开课程",value:"public"}}),e._v(" "),o("el-option",{attrs:{label:"工业课程",value:"industry"}}),e._v(" "),o("el-option",{attrs:{label:"政府课程",value:"gov"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"课程封面图",prop:"image"}},[o("img",{directives:[{name:"show",rawName:"v-show",value:e.fetchParam.image,expression:"fetchParam.image"}],attrs:{src:e._f("fillImgPath")(e.fetchParam.image),width:"200",height:"112"}}),e._v(" "),o("CropperImg",{ref:"imgcropper",attrs:{confirmFn:e.cropperImgSucc,aspectRatio:16/9}})],1),e._v(" "),o("el-form-item",{attrs:{label:"课程类型"}},[o("el-select",{attrs:{placeholder:"请选择"},on:{change:e.typeChange},model:{value:e.fetchParam.material_type,callback:function(t){e.fetchParam.material_type=t},expression:"fetchParam.material_type"}},[o("el-option",{attrs:{label:"视频",value:"video"}}),e._v(" "),o("el-option",{attrs:{label:"WORD",value:"doc"}}),e._v(" "),o("el-option",{attrs:{label:"PPT",value:"ppt"}}),e._v(" "),o("el-option",{attrs:{label:"PDF",value:"pdf"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"课程文件",prop:"material_id"}},[o("UploadFile",{directives:[{name:"show",rawName:"v-show",value:"video"!==e.fetchParam.material_type,expression:"fetchParam.material_type !== 'video'"}],attrs:{onSuccess:e.handleUploadDoc,url:e.uploadDocUrl,accept:e.accept,disabled:null==e.fetchParam.material_type}}),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:"video"===e.fetchParam.material_type,expression:"fetchParam.material_type === 'video'"}],on:{click:function(t){e.isShowVideoDialog=!0}}},[o("i",[e._v(e._s(e.fetchParam.material_name))])])],1),e._v(" "),o("el-form-item",{attrs:{label:"课程介绍",prop:"description"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"请输入内容"},model:{value:e.fetchParam.description,callback:function(t){e.fetchParam.description=t},expression:"fetchParam.description"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"课程标签"}},[o("vTags",{model:{value:e.courseTags,callback:function(t){e.courseTags=t},expression:"courseTags"}})],1),e._v(" "),o("h2",[e._v("课后考试设置")]),e._v(" "),o("el-form-item",{attrs:{label:"课后考试",prop:"need_testing"}},[o("el-radio",{staticClass:"radio",attrs:{label:1},model:{value:e.fetchParam.need_testing,callback:function(t){e.fetchParam.need_testing=t},expression:"fetchParam.need_testing"}},[e._v("需要")]),e._v(" "),o("el-radio",{staticClass:"radio",attrs:{label:0},model:{value:e.fetchParam.need_testing,callback:function(t){e.fetchParam.need_testing=t},expression:"fetchParam.need_testing"}},[e._v("不需要")])],1),e._v(" "),o("el-form-item",{attrs:{label:"考试时间",prop:"limit_time"}},[o("el-input-number",{attrs:{min:0,size:"small",disabled:0==e.fetchParam.need_testing,placeholder:"以分钟为单位"},model:{value:e.fetchParam.limit_time,callback:function(t){e.fetchParam.limit_time=t},expression:"fetchParam.limit_time"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"考试次数限制"}},[o("el-input",{attrs:{disabled:0==e.fetchParam.need_testing,placeholder:"留空或0位不限制"},model:{value:e.fetchParam.limit_repeat,callback:function(t){e.fetchParam.limit_repeat=t},expression:"fetchParam.limit_repeat"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"及格分数",prop:"score_pass"}},[o("el-input",{attrs:{disabled:0==e.fetchParam.need_testing},model:{value:e.fetchParam.score_pass,callback:function(t){e.fetchParam.score_pass=t},expression:"fetchParam.score_pass"}})],1),e._v(" "),e.readonly?e._e():o("el-form-item",{attrs:{label:""}},[o("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.btnNextClick}},[o("i",[e._v(e._s(0==e.fetchParam.need_testing?"保存":"保存并下一步"))])])],1)],1)],1),e._v(" "),o("el-tab-pane",{staticClass:"testing-set",attrs:{disabled:!e.fetchParam.contentid,label:"考试题目设置",name:"second"}},[o("el-form",e._l(e.fetchTesting,function(t,a){return o("el-form",{key:a,attrs:{"label-width":"120px"}},[e.readonly?e._e():o("el-form-item",{attrs:{label:""}},[o("el-button",{attrs:{icon:"plus"},on:{click:function(t){e.addTesting(0,a)}}},[e._v("判断题")]),e._v(" "),o("el-button",{attrs:{icon:"plus"},on:{click:function(t){e.addTesting(1,a)}}},[e._v("单选题")]),e._v(" "),o("el-button",{attrs:{icon:"plus"},on:{click:function(t){e.addTesting(2,a)}}},[e._v("多选题")]),e._v(" "),o("el-button",{attrs:{icon:"delete",type:"danger"},on:{click:function(o){e.deleteTesting(a,t)}}},[e._v("删除")])],1),e._v(" "),o("el-form-item",{attrs:{label:"第"+(a+1)+"题"}},[0==t.category?o("span",[e._v("判断题")]):1==t.category?o("span",[e._v("单选题")]):o("span",[e._v("多选题")])]),e._v(" "),o("el-form-item",{attrs:{label:"题目"}},[o("el-input",{attrs:{disabled:!t.editable,type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:t.description,callback:function(e){t.description=e},expression:"item.description"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"分数"}},[o("el-input",{attrs:{placeholder:"为该题设置分数",disabled:!t.editable},model:{value:t.score,callback:function(e){t.score=e},expression:"item.score"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"配图"}},[o("UploadImg",{attrs:{defaultImg:t.image,url:e.uploadImgUrl,disabled:!t.editable,onSuccess:function(e){return t.image=e.data.url}}})],1),e._v(" "),0==t.category?o("el-form-item",{attrs:{label:"选项"}},[o("el-radio",{staticClass:"radio",attrs:{disabled:!t.editable,label:1},model:{value:t.correct,callback:function(e){t.correct=e},expression:"item.correct"}},[o("i",[e._v("正确")])]),e._v(" "),o("el-radio",{staticClass:"radio",attrs:{disabled:!t.editable,label:0},model:{value:t.correct,callback:function(e){t.correct=e},expression:"item.correct"}},[o("i",[e._v("错误")])])],1):o("el-form-item",{attrs:{label:"选项"}},[o("h5",[e._v("请在正确答案前面打勾")]),e._v(" "),e._l(t.options,function(a,i){return o("div",{key:i,staticClass:"multy-choose-item"},[2==t.category?o("el-checkbox",{attrs:{"true-label":1,disabled:!t.editable},model:{value:a.correct,callback:function(e){a.correct=e},expression:"option.correct"}}):o("el-radio",{staticClass:"radio",attrs:{label:i,disabled:!t.editable},model:{value:t.correct,callback:function(e){t.correct=e},expression:"item.correct"}},[o("i")]),e._v(" "),o("el-input",{attrs:{placeholder:"填写描述",disabled:!t.editable},model:{value:a.description,callback:function(e){a.description=e},expression:"option.description"}}),e._v(" "),o("el-button",{attrs:{disabled:!t.editable,type:"text"},on:{click:function(e){t.options.splice(i,1)}}},[o("i",[e._v("删除")])])],1)}),e._v(" "),o("div",{staticClass:"multy-choose-item"},[t.editable?o("el-button",{attrs:{type:"text"},on:{click:function(o){e.addMoreTestingOption(t.options)}}},[e._v("添加更多选项")]):e._e()],1)],2),e._v(" "),o("el-form-item",{attrs:{label:"答案详解"}},[o("el-input",{attrs:{disabled:!t.editable,type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"请输入内容"},model:{value:t.explain,callback:function(e){t.explain=e},expression:"item.explain"}})],1),e._v(" "),o("hr")],1)})),e._v(" "),e.readonly?e._e():o("el-form",{attrs:{"label-width":"120px"}},[o("el-form-item",{attrs:{label:""}},[o("el-button",{attrs:{icon:"plus"},on:{click:function(t){e.addTesting(0,e.fetchTesting.length)}}},[e._v("判断题")]),e._v(" "),o("el-button",{attrs:{icon:"plus"},on:{click:function(t){e.addTesting(1,e.fetchTesting.length)}}},[e._v("单选题")]),e._v(" "),o("el-button",{attrs:{icon:"plus"},on:{click:function(t){e.addTesting(2,e.fetchTesting.length)}}},[e._v("多选题")])],1)],1),e._v(" "),e.readonly?e._e():o("div",{staticClass:"bottom-btns"},[o("el-button",{on:{click:e.btnPreClick}},[e._v("上一步")]),e._v(" "),o("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.handleSubmitTesting}},[e._v("发布")])],1)],1)],1),e._v(" "),o("DialogVideo",{attrs:{onSelect:e.handleVideoSelected},model:{value:e.isShowVideoDialog,callback:function(t){e.isShowVideoDialog=t},expression:"isShowVideoDialog"}})],1)},staticRenderFns:[]}},400:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"选取视频"},model:{value:e.isShowDialog,callback:function(t){e.isShowDialog=t},expression:"isShowDialog"}},[o("main",{attrs:{id:"course-component-dialogvideo"}},[o("section",{staticClass:"search"},[o("section",[o("i",[e._v("名称")]),e._v(" "),o("el-input",{nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.fetchData(t)}},model:{value:e.fetchParam.file_name,callback:function(t){e.fetchParam.file_name=t},expression:"fetchParam.file_name"}})],1)]),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingData,expression:"loadingData"}],staticClass:"data-table",attrs:{data:e.data,fit:!0,border:""}},[o("el-table-column",{attrs:{prop:"file_name",label:"标题"}}),e._v(" "),o("el-table-column",{attrs:{prop:"duration",width:"80",label:"时长"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",width:"70",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){e.selectVideo(t.$index,t.row)}}},[e._v("选取")])]}}])})],1),e._v(" "),o("el-pagination",{staticClass:"pagin",attrs:{"current-page":e.fetchParam.page,"page-size":e.fetchParam.pagesize,"page-sizes":[15,30,60,100],layout:"sizes,total, prev, pager, next",total:e.total},on:{"size-change":function(t){return e.fetchParam.pagesize=t},"current-change":function(t){return e.fetchParam.page=t}}})],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=7.bfd14dc61aa30609a7cc.js.map