webpackJsonp([59],{100:function(e,t,r){r(928);var a=r(5)(r(737),r(1020),null,null);e.exports=a.exports},1020:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"user-password"},[r("section",{staticClass:"submit-form"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth}},[e._v("\n                "+e._s(e.form.mobile)+"\n            ")]),e._v(" "),r("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth}},[e._v("\n                "+e._s(e.form.email)+"\n            ")]),e._v(" "),r("el-form-item",{attrs:{prop:"passwd",label:"修改密码","label-width":e.formLabelWidth}},[r("el-input",{attrs:{type:"password",placeholder:"新密码","auto-complete":"off"},model:{value:e.form.passwd,callback:function(t){e.form.passwd=t},expression:"form.passwd"}})],1),e._v(" "),r("el-form-item",{staticClass:"subButton"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit("form")}}},[e._v("提交修改")])],1)],1)],1)])},staticRenderFns:[]}},214:function(e,t,r){"use strict";(function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=r(14),o=r(1),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=o.a.apiHost+"/mine",u=function(){function t(){a(this,t)}return i(t,[{key:"updateProfile",value:function(e){var t=e.id,r=e.name,a=e.sex,i=e.avatar,s=e.address,u=e.email,c=o.a.apiHost+"/admin/update/"+t;return n.a(c,{name:r,sex:a,avatar:i,address:s,email:u})}},{key:"uploadAvatar",value:function(t){var r=t.avatar,a=t.alias,o=s+"/profile/avatar";return n.a(o,{avatar:r,alias:a}).then(function(t){return t.code?e.reject(t):t})}},{key:"getCompanyInfo",value:function(){var e=s+"/company";return n.b(e).then(function(e){return e.data.data})}},{key:"modifyCompany",value:function(t){var r=t.name,a=t.concact,o=t.mobile,i=t.email,u=t.tel,c=t.fax,l=t.province,f=t.city,d=t.area,p=t.address,m=t.zip,v=t.url,w=t.description,h=s+"/company";return n.a(h,{name:r,concact:a,mobile:o,email:i,tel:u,fax:c,province:l,city:f,area:d,address:p,zip:m,url:v,description:w}).then(function(t){if(t.code)return e.reject(t)})}},{key:"modifyPassword",value:function(t){var r=t.id,a=t.passwd,i=o.a.apiHost+"/admin/update/"+r;return n.a(i,{passwd:a}).then(function(t){if(t.code)return e.reject(t)})}},{key:"getSafeSetInfo",value:function(){var e=s+"/two-step/";return n.b(e).then(function(e){return e.data})}},{key:"getWechatLoginConfig",value:function(){var e=s+"/two-step/wechat";return n.b(e).then(function(e){return e.data.wechatConfig})}},{key:"bindOrChangeTwo",value:function(e){var t=e.type,r=e.code,a=e.receiver,o=s+"/two-step/code/bind";return n.a(o,{type:t,code:r,receiver:a}).then(function(e){return e.data.userTwoStepAuthToken})}},{key:"sendTwoValidCode",value:function(e){var t=e.type,r=e.receiver,a=s+"/two-step/code/send";return n.a(a,{type:t,receiver:r})}},{key:"validTwoVliadCode",value:function(e){var t=e.code,r=e.type,a=s+"/two-step/code/verify";return n.a(a,{code:t,type:r}).then(function(e){return e.data.userTwoStepAuthToken})}}]),t}();t.a=new u}).call(t,r(3))},737:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(214),n=r(2);t.default={data:function(){return{imgUrl:"",form:{passwd:""},formLabelWidth:"120px",rules:{passwd:{required:!0,message:"必须填写",trigger:"blur"},re_password:[{required:!0,message:"必须填写",trigger:"blur"}]}}},created:function(){xmview.setContentLoading(!1),this.form=n.a.getUserInfo(),this.form.mobile=this.form.mobile||"未设置",this.form.email=this.form.email||"未设置"},methods:{submit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;a.a.modifyPassword(t.form).then(function(){xmview.showTip("success","修改成功")}).catch(function(e){xmview.showTip("error",e.message)})})}}}},864:function(e,t,r){t=e.exports=r(91)(!0),t.push([e.i,".user-password{background:#fff;padding:20px 200px}.user-password .subButton{text-align:center}","",{version:3,sources:["/Users/zhaoyicheng/Documents/Code/yxt/PC-old/sys_ui/assets/src/views/base/mine/Password.vue"],names:[],mappings:"AACA,eAAe,gBAAgB,kBAAkB,CAChD,AACD,0BAA0B,iBAAiB,CAC1C",file:"Password.vue",sourcesContent:["\n.user-password{background:#fff;padding:20px 200px\n}\n.user-password .subButton{text-align:center\n}\n"],sourceRoot:""}])},928:function(e,t,r){var a=r(864);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(92)("fec96e06",a,!0)}});
//# sourceMappingURL=59.7c6f089ca444f9b5f2de.js.map