webpackJsonp([54],{1044:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{attrs:{id:"feedback-index"}},[a("section",{staticClass:"manage-container"},[a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){e.$router.push({name:"feedback-add"})}}},[a("i",[e._v("提交问题")])])],1),e._v(" "),a("main",{staticClass:"search"},[a("section",[a("i",[e._v("反馈状态")]),e._v(" "),a("el-select",{attrs:{placeholder:"未选择",clearable:!0},on:{change:e.fetchData},model:{value:e.fetchParam.status,callback:function(t){e.fetchParam.status=t},expression:"fetchParam.status"}},[a("el-option",{attrs:{label:"未分配",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"处理中",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"待补充",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"待处理",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"待确认",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"已关闭",value:"9"}})],1)],1),e._v(" "),a("DateRange",{attrs:{title:"提交时间",start:e.fetchParam.time_start,end:e.fetchParam.time_end,change:e.fetchData},on:{changeStart:function(t){return e.fetchParam.time_start=t},changeEnd:function(t){return e.fetchParam.time_end=t}}})],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingData,expression:"loadingData"}],staticClass:"data-table",attrs:{data:e.data,border:""}},[a("el-table-column",{attrs:{width:"100",prop:"id",label:"反馈编号"}}),e._v(" "),a("el-table-column",{attrs:{width:"120",prop:"category_name",label:"问题分类"}}),e._v(" "),a("el-table-column",{attrs:{prop:"content",label:"问题描述"}}),e._v(" "),a("el-table-column",{attrs:{width:"180",prop:"addate",label:"提交时间"}}),e._v(" "),a("el-table-column",{attrs:{width:"100",prop:"status_name",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.status||4==t.row.status?a("el-tag",{attrs:{type:"warning"}},[e._v("\n                    "+e._s(t.row.status_name)+"\n                ")]):a("el-tag",{attrs:{type:"gray"}},[e._v(e._s(t.row.status_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"100",prop:"operate",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.viewFn(t.row.id)}}},[e._v("查看")]),e._v(" "),[0,9].indexOf(t.row.status)>-1?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteFn(t,t.row.id)}}},[e._v("删除\n                ")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"pagin",attrs:{"current-page":e.fetchParam.page,pagesize:e.fetchParam.pagesize,"page-sizes":[15,30,60,100],layout:"sizes,total, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]}},161:function(e,t,a){"use strict";function n(e){return e?i.b(new Date(e)):e}Object.defineProperty(t,"__esModule",{value:!0});var i=a(25),r=void 0;t.default={props:{title:String,start:{},end:{},change:Function},data:function(){return{timespan:[this.start,this.end],pickerOptionsStart:{disabledDate:function(e){return r.timespan[1]?e.getTime()-144e5>=new Date(r.timespan[1]).getTime()&&0!==i.c(e,new Date(r.timespan[0])):null}},pickerOptionsEnd:{disabledDate:function(e){return r.timespan[0]?e.getTime()<=new Date(r.timespan[0]).getTime()&&0!==i.c(e,new Date(r.timespan[0])):null}}}},watch:{start:function(e){n(this.timespan[0])!=e&&(this.timespan[0]=e,e||(this.$refs.start.$el.querySelector("input").value=""))},end:function(e){n(this.timespan[1])!=e&&(this.timespan[1]=e,e||(this.$refs.end.$el.querySelector("input").value=""))}},beforeCreate:function(){r=this},methods:{setCurrVal:function(e){var t=["changeStart","changeEnd"],a=n(this.timespan[e]);this.$emit(t[e],n(a)),this.change&&this.change()}}}},162:function(e,t,a){var n=a(5)(a(161),a(163),null,null);e.exports=n.exports},163:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("i",[e._v(e._s(e.title))]),e._v(" "),a("el-date-picker",{ref:"start",attrs:{editable:!1,clearable:"",align:"right",type:"date","picker-options":e.pickerOptionsStart,placeholder:"开始日期"},on:{change:function(t){e.setCurrVal(0)}},model:{value:e.timespan[0],callback:function(t){var a=e.timespan;Array.isArray(a)?a.splice(0,1,t):e.timespan[0]=t},expression:"timespan[0]"}}),e._v(" "),a("el-date-picker",{ref:"end",attrs:{clearable:"",editable:!1,align:"right",type:"date","picker-options":e.pickerOptionsEnd,placeholder:"结束日期"},on:{change:function(t){e.setCurrVal(1)}},model:{value:e.timespan[1],callback:function(t){var a=e.timespan;Array.isArray(a)?a.splice(1,1,t):e.timespan[1]=t},expression:"timespan[1]"}})],1)},staticRenderFns:[]}},318:function(e,t,a){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=a(14),r=a(1),o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=r.a.apiHost+"/feedback",s=function(){function t(){n(this,t)}return o(t,[{key:"search",value:function(e){var t=e.page,a=e.pagesize,n=e.status,r=void 0===n?-1:n,o=e.category_id,s=e.time_start,l=e.time_end,u=c+"/search";return""==r&&(r=-1),i.b(u,{page:t,pagesize:a,status:r,category_id:o,time_start:s,time_end:l}).then(function(e){return e.data})}},{key:"category",value:function(){var e=c+"/category";return i.b(e,{}).then(function(e){return e.data})}},{key:"view",value:function(e){var t=c+"/"+e;return i.b(t,{}).then(function(e){return e.data})}},{key:"create",value:function(t){var a=t.category_id,n=void 0===a?1:a,r=t.content,o=t.images,s=void 0===o?[]:o,l=t.contact,u=c+"/";return s&&(s=JSON.stringify(s)),i.a(u,{category_id:n,content:r,images:s,contact:l}).then(function(t){if(t.code)return e.reject(t)})}},{key:"reply",value:function(t){var a=t.id,n=t.status,r=t.content,o=t.images,s=t.confirm,l=c+"/"+a+"/reply";return o&&(o=JSON.stringify(o)),s=s?1:0,i.c(l,{status:n,content:r,images:o,confirm:s}).then(function(t){return t.code?e.reject(t):t.data})}},{key:"confirm",value:function(t){var a=c+"/"+t+"/confirm";return i.c(a,{}).then(function(t){if(t.code)return e.reject(t)})}},{key:"remove",value:function(t){var a=c+"/"+t;return i.d(a,{}).then(function(t){if(t.code)return e.reject(t)})}},{key:"uploadImageUrl",value:function(){return c+"/image"}}]),t}();t.a=new s}).call(t,a(3))},736:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(318),i=a(162),r=a.n(i);t.default={components:{DateRange:r.a},data:function(){return{loadingData:!1,data:[],total:0,dialogVisible:!1,fetchParam:{status:void 0,category_id:void 0,page:1,pagesize:15,time_start:void 0,time_end:void 0}}},activated:function(){this.$route.params.reload&&this.fetchData(),xmview.setContentLoading(!1)},created:function(){this.fetchData()},methods:{handleCurrentChange:function(e){this.fetchParam.page=e,this.fetchData()},handleSizeChange:function(e){this.fetchParam.pagesize=e,this.fetchData()},fetchData:function(e){var t=this;return this.loadingData=!0,n.a.search(this.fetchParam).then(function(e){t.data=e.data,t.total=e._exts.total,t.loadingData=!1,xmview.setContentLoading(!1)})},viewFn:function(e){this.$router.push({name:"feedback-view",query:{feedback_id:e}})},deleteFn:function(e,t){var a=this;xmview.showDialog("你将要执行删除操作且不可恢复确认吗？",function(){n.a.remove(t).then(function(){xmview.showTip("success","删除成功"),a.data.splice(e,1)}).catch(function(e){xmview.showTip("error",e.message)})})}}}},885:function(e,t,a){t=e.exports=a(92)(!0),t.push([e.i,'#feedback-index{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff}#feedback-index:after{content:"";clear:both;display:block}#feedback-index .pagin{float:right;margin-top:15px}#feedback-index .bottom-manage{margin-top:15px}#feedback-index .manage-container{position:absolute;right:0;top:-50px}#feedback-index .header-button.manage-container>.el-button i{margin-right:5px}#feedback-index .header-button.manage-container>.el-button i:before{position:relative;top:-1px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}#feedback-index .search>section{margin-left:10px;margin-bottom:14px;display:inline-block;margin-right:10px}#feedback-index .search>section>span,#feedback-index .search>section i{margin-right:2px}#feedback-index .search>section>*{vertical-align:middle;display:inline-block}#feedback-index .search .el-input{width:auto}.keyword-container{width:90%;margin-left:5%;margin-bottom:5px}',"",{version:3,sources:["/Users/zhaoyicheng/Documents/Code/yxt/PC-old/sys_ui/assets/src/views/base/feedback/Index.vue"],names:[],mappings:"AACA,gBAAgB,aAAa,kBAAkB,yBAAyB,kBAAkB,eAAe,CACxG,AACD,sBAAsB,WAAW,WAAW,aAAa,CACxD,AACD,uBAAuB,YAAY,eAAe,CACjD,AACD,+BAA+B,eAAe,CAC7C,AACD,kCAAkC,kBAAkB,QAAQ,SAAS,CACpE,AACD,6DAA6D,gBAAgB,CAC5E,AACD,oEAAoE,kBAAkB,QAAQ,CAC7F,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,gCAAgC,iBAAiB,mBAAmB,qBAAqB,iBAAiB,CACzG,AACD,uEAAuE,gBAAgB,CACtF,AACD,kCAAkC,sBAAsB,oBAAoB,CAC3E,AACD,kCAAkC,UAAU,CAC3C,AACD,mBAAmB,UAAU,eAAe,iBAAiB,CAC5D",file:"Index.vue",sourcesContent:["\n#feedback-index{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\n}\n#feedback-index:after{content:'';clear:both;display:block\n}\n#feedback-index .pagin{float:right;margin-top:15px\n}\n#feedback-index .bottom-manage{margin-top:15px\n}\n#feedback-index .manage-container{position:absolute;right:0;top:-50px\n}\n#feedback-index .header-button.manage-container>.el-button i{margin-right:5px\n}\n#feedback-index .header-button.manage-container>.el-button i:before{position:relative;top:-1px\n}\n.text-blue{color:#20A0FF\n}\n.text-light-blue{color:#58B7FF\n}\n.text-dark-blue{color:#1D8CE0\n}\n.text-success{color:#13CE66\n}\n.text-warning{color:#F7BA2A\n}\n.text-danger{color:#FF4949\n}\n#feedback-index .search>section{margin-left:10px;margin-bottom:14px;display:inline-block;margin-right:10px\n}\n#feedback-index .search>section>span,#feedback-index .search>section i{margin-right:2px\n}\n#feedback-index .search>section>*{vertical-align:middle;display:inline-block\n}\n#feedback-index .search .el-input{width:auto\n}\n.keyword-container{width:90%;margin-left:5%;margin-bottom:5px\n}\n"],sourceRoot:""}])},951:function(e,t,a){var n=a(885);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(93)("2795c375",n,!0)},96:function(e,t,a){a(951);var n=a(5)(a(736),a(1044),null,null);e.exports=n.exports}});
//# sourceMappingURL=54.23467df87e653dde3518.js.map