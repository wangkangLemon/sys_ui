webpackJsonp([52],{1028:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"user-password"},[r("section",{staticClass:"submit-form"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth}},[e._v("\n                "+e._s(e.form.mobile)+"\n            ")]),e._v(" "),r("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth}},[e._v("\n                "+e._s(e.form.email)+"\n            ")]),e._v(" "),r("el-form-item",{attrs:{prop:"passwd",label:"修改密码","label-width":e.formLabelWidth}},[r("el-input",{attrs:{type:"password",placeholder:"新密码","auto-complete":"off"},model:{value:e.form.passwd,callback:function(t){e.form.passwd=t},expression:"form.passwd"}})],1),e._v(" "),r("el-form-item",{staticClass:"subButton"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit("form")}}},[e._v("提交修改")])],1)],1)],1)])},staticRenderFns:[]}},159:function(e,t,r){r(942);var n=r(10)(r(764),r(1028),null,null);e.exports=n.exports},259:function(e,t,r){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=r(24),o=r(4),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=o.a.apiHost+"/mine",u=function(){function t(){n(this,t)}return s(t,[{key:"updateProfile",value:function(e){var t=e.name,r=e.address,n=e.sex,o=i+"/profile";return a.a(o,{name:t,address:r,sex:n})}},{key:"uploadAvatar",value:function(t){var r=t.avatar,n=t.alias,o=i+"/profile/avatar";return a.a(o,{avatar:r,alias:n}).then(function(t){return t.code?e.reject(t):t})}},{key:"getCompanyInfo",value:function(){var e=i+"/company";return a.b(e).then(function(e){return e.data.data})}},{key:"modifyCompany",value:function(t){var r=t.name,n=t.concact,o=t.mobile,s=t.email,u=t.tel,c=t.fax,f=t.province,l=t.city,d=t.area,p=t.address,m=t.zip,v=t.url,w=t.description,h=i+"/company";return a.a(h,{name:r,concact:n,mobile:o,email:s,tel:u,fax:c,province:f,city:l,area:d,address:p,zip:m,url:v,description:w}).then(function(t){if(t.code)return e.reject(t)})}},{key:"modifyPassword",value:function(t){var r=t.origin_password,n=t.new_password,o=t.re_password,s=i+"/password";return a.a(s,{origin_password:r,new_password:n,re_password:o}).then(function(t){if(t.code)return e.reject(t)})}},{key:"getSafeSetInfo",value:function(){var e=i+"/two-step/";return a.b(e).then(function(e){return e.data})}},{key:"getWechatLoginConfig",value:function(){var e=i+"/two-step/wechat";return a.b(e).then(function(e){return e.data.wechatConfig})}},{key:"bindOrChangeTwo",value:function(e){var t=e.type,r=e.code,n=e.receiver,o=i+"/two-step/code/bind";return a.a(o,{type:t,code:r,receiver:n}).then(function(e){return e.data.userTwoStepAuthToken})}},{key:"sendTwoValidCode",value:function(e){var t=e.type,r=e.receiver,n=i+"/two-step/code/send";return a.a(n,{type:t,receiver:r})}},{key:"validTwoVliadCode",value:function(e){var t=e.code,r=e.type,n=i+"/two-step/code/verify";return a.a(n,{code:t,type:r}).then(function(e){return e.data.userTwoStepAuthToken})}}]),t}();t.a=new u}).call(t,r(7))},764:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(259),a=r(5);t.default={data:function(){return{imgUrl:"",form:{passwd:""},formLabelWidth:"120px",rules:{passwd:{required:!0,message:"必须填写",trigger:"blur"},re_password:[{required:!0,message:"必须填写",trigger:"blur"}]}}},created:function(){this.form=a.a.getUserInfo(),this.form.mobile=this.form.mobile||"未设置",this.form.email=this.form.email||"未设置",xmview.setContentLoading(!1)},methods:{submit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;n.a.modifyPassword(t.form).then(function(){xmview.showTip("success","修改成功")}).catch(function(e){xmview.showTip("error",e.message)})})}}}},882:function(e,t,r){t=e.exports=r(150)(!0),t.push([e.i,".user-password{background:#fff;padding:20px 200px}.user-password .subButton{text-align:center}","",{version:3,sources:["/home/zhaoyicheng/devspace/sys_ui/assets/src/views/base/mine/Password.vue"],names:[],mappings:"AACA,eAAe,gBAAgB,kBAAkB,CAChD,AACD,0BAA0B,iBAAiB,CAC1C",file:"Password.vue",sourcesContent:["\n.user-password{background:#fff;padding:20px 200px\n}\n.user-password .subButton{text-align:center\n}\n"],sourceRoot:""}])},942:function(e,t,r){var n=r(882);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r(151)("fec96e06",n,!0)}});
//# sourceMappingURL=52.a794907697042d56119a.js.map