{"version":3,"sources":["webpack:///static/js/78.ab7aea718aba9d681383.js","webpack:///./src/views/base/feedback/Add.vue?aa92","webpack:///./src/views/base/feedback/Add.vue","webpack:///./src/views/base/feedback/Add.vue?76fb","webpack:///./src/views/base/feedback/Add.vue?828a","webpack:///./src/services/base/feedbackService.js?17e7","webpack:///UploadImages.vue?561d","webpack:///./src/views/component/upload/UploadImages.vue?2484*","webpack:///./src/views/component/upload/UploadImages.vue?9790*","webpack:///./src/views/component/upload/UploadImages.vue?04c2","webpack:///./src/views/component/upload/UploadImages.vue?88f3*","webpack:///Add.vue?d4ca"],"names":["webpackJsonp","1070","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","115","Component","1177","content","locals","1313","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","type","on","click","$event","$router","name","_v","ref","model","form","rules","label-width","formLabelWidth","prop","label","placeholder","value","callback","$$v","category_id","expression","_l","cate","key","rows","url","uploadImgUrl","uploadName","fileNum","onSuccess","handleImgUploaded","onRemove","handleImgRemoved","contact","submitForm","staticRenderFns","403","__webpack_exports__","Promise","_classCallCheck","instance","Constructor","TypeError","__WEBPACK_IMPORTED_MODULE_0__api__","__WEBPACK_IMPORTED_MODULE_1__utils_config__","_createClass","defineProperties","target","props","length","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","prototype","urlPre","apiHost","FeedbackUserService","_ref","page","pagesize","_ref$status","status","undefined","time_start","time_end","then","ret","data","_ref2","_ref2$category_id","_ref2$images","images","JSON","stringify","code","reject","_ref3","confirm","call","504","__WEBPACK_IMPORTED_MODULE_0__utils_authUtils__","String","default","Function","Number","dialogImageUrl","dialogVisible","showUploadBtn","headers","host","uploadBtn","multiple","imgList","watch","val","style","display","created","Authorization","getAuthToken","TwoStep","getTwiceToken","activated","$refs","container","querySelector","mounted","methods","handlePreview","handleRemove","fileList","handleSuccess","response","xmview","showTip","message","clearFiles","510","768","786","789","action","list-type","on-success","on-error","on-preview","on-remove","file-list","accept","_e","size","width","src","alt","840","__WEBPACK_IMPORTED_MODULE_0__services_base_feedbackService__","__WEBPACK_IMPORTED_MODULE_1__utils_filterUtils__","__WEBPACK_IMPORTED_MODULE_2__utils_authUtils__","__WEBPACK_IMPORTED_MODULE_3__component_upload_UploadImages_vue__","__WEBPACK_IMPORTED_MODULE_3__component_upload_UploadImages_vue___default","n","filters","fillImgPath","components","UploadImages","a","required","trigger","categories","form.images","_this","uploadImageUrl","category","catch","userInfo","getUserInfo","mobile","email","setContentLoading","indexOf","index","splice","formName","_this2","validate","valid","create","params","reload","resetForm","resetFields"],"mappings":"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","file":"static/js/78.ab7aea718aba9d681383.js","sourcesContent":["webpackJsonp([78],{\n\n/***/ 1070:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(112)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#feedback-add{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff}#feedback-add:after{content:\\\"\\\";clear:both;display:block}#feedback-add .pagin{float:right;margin-top:15px}#feedback-add .bottom-manage{margin-top:15px}#feedback-add .manage-container{position:absolute;right:0;top:-50px}#feedback-add .header-button.manage-container>.el-button i{margin-right:5px}#feedback-add .header-button.manage-container>.el-button i:before{position:relative;top:-1px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}.keyword-container{width:90%;margin-left:5%;margin-bottom:5px}#feedback-add .feedback-form{width:90%}#feedback-add .feedback-form .input{max-width:300px}#feedback-add .el-dialog__wrapper{padding-top:15px;background:rgba(0,0,0,.5);z-index:1000}\", \"\", {\"version\":3,\"sources\":[\"/Users/zhaoyicheng/Documents/Code/yxt/PC-old/sys_ui/assets/src/views/base/feedback/Add.vue\"],\"names\":[],\"mappings\":\"AACA,cAAc,aAAa,kBAAkB,yBAAyB,kBAAkB,eAAe,CACtG,AACD,oBAAoB,WAAW,WAAW,aAAa,CACtD,AACD,qBAAqB,YAAY,eAAe,CAC/C,AACD,6BAA6B,eAAe,CAC3C,AACD,gCAAgC,kBAAkB,QAAQ,SAAS,CAClE,AACD,2DAA2D,gBAAgB,CAC1E,AACD,kEAAkE,kBAAkB,QAAQ,CAC3F,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,mBAAmB,UAAU,eAAe,iBAAiB,CAC5D,AACD,6BAA6B,SAAS,CACrC,AACD,oCAAoC,eAAe,CAClD,AACD,kCAAkC,iBAAiB,0BAA2B,YAAY,CACzF\",\"file\":\"Add.vue\",\"sourcesContent\":[\"\\n#feedback-add{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\\n}\\n#feedback-add:after{content:'';clear:both;display:block\\n}\\n#feedback-add .pagin{float:right;margin-top:15px\\n}\\n#feedback-add .bottom-manage{margin-top:15px\\n}\\n#feedback-add .manage-container{position:absolute;right:0;top:-50px\\n}\\n#feedback-add .header-button.manage-container>.el-button i{margin-right:5px\\n}\\n#feedback-add .header-button.manage-container>.el-button i:before{position:relative;top:-1px\\n}\\n.text-blue{color:#20A0FF\\n}\\n.text-light-blue{color:#58B7FF\\n}\\n.text-dark-blue{color:#1D8CE0\\n}\\n.text-success{color:#13CE66\\n}\\n.text-warning{color:#F7BA2A\\n}\\n.text-danger{color:#FF4949\\n}\\n.keyword-container{width:90%;margin-left:5%;margin-bottom:5px\\n}\\n#feedback-add .feedback-form{width:90%\\n}\\n#feedback-add .feedback-form .input{max-width:300px\\n}\\n#feedback-add .el-dialog__wrapper{padding-top:15px;background:rgba(0,0,0,0.5);z-index:1000\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(1177)\n\nvar Component = __webpack_require__(5)(\n  /* script */\n  __webpack_require__(840),\n  /* template */\n  __webpack_require__(1313),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 1177:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1070);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(113)(\"0236ff84\", content, true);\n\n/***/ }),\n\n/***/ 1313:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', {\n    attrs: {\n      \"id\": \"feedback-add\"\n    }\n  }, [_c('div', {\n    staticClass: \"manage-container\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.$router.push({\n          name: 'feedback-index'\n        })\n      }\n    }\n  }, [_vm._v(\"返回列表\")])], 1), _vm._v(\" \"), _c('main', {\n    staticClass: \"feedback-form\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.form,\n      \"rules\": _vm.rules,\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"prop\": \"category_id\",\n      \"label\": \"问题分类\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"未选择\"\n    },\n    model: {\n      value: (_vm.form.category_id),\n      callback: function($$v) {\n        _vm.form.category_id = $$v\n      },\n      expression: \"form.category_id\"\n    }\n  }, _vm._l((_vm.categories), function(cate) {\n    return _c('el-option', {\n      key: cate.id,\n      attrs: {\n        \"label\": cate.name,\n        \"value\": cate.id\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"content\",\n      \"label\": \"问题描述\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"rows\": 5,\n      \"placeholder\": \"请详细描述您所遇到的问题或优化建议\"\n    },\n    model: {\n      value: (_vm.form.content),\n      callback: function($$v) {\n        _vm.form.content = $$v\n      },\n      expression: \"form.content\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"images\",\n      \"label\": \"上传截图(选填)\"\n    }\n  }, [_c('UploadImages', {\n    ref: \"uploadImg\",\n    staticClass: \"upload-btn\",\n    attrs: {\n      \"url\": _vm.uploadImgUrl,\n      \"name\": _vm.uploadName,\n      \"fileNum\": _vm.fileNum,\n      \"onSuccess\": _vm.handleImgUploaded,\n      \"onRemove\": _vm.handleImgRemoved\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"contact\",\n      \"label\": \"联系方式\"\n    }\n  }, [_c('el-input', {\n    staticClass: \"input\",\n    attrs: {\n      \"type\": \"input\",\n      \"placeholder\": \"请留下联系方式用于问题跟进\"\n    },\n    model: {\n      value: (_vm.form.contact),\n      callback: function($$v) {\n        _vm.form.contact = $$v\n      },\n      expression: \"form.contact\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('form')\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 403:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_config__ = __webpack_require__(1);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar urlPre = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/feedback';\n\nvar FeedbackUserService = function () {\n    function FeedbackUserService() {\n        _classCallCheck(this, FeedbackUserService);\n    }\n\n    _createClass(FeedbackUserService, [{\n        key: 'search',\n\n        // 获取我的工单列表\n        value: function search(_ref) {\n            var page = _ref.page,\n                pagesize = _ref.pagesize,\n                _ref$status = _ref.status,\n                status = _ref$status === undefined ? -1 : _ref$status,\n                category_id = _ref.category_id,\n                time_start = _ref.time_start,\n                time_end = _ref.time_end;\n\n            var url = urlPre + '/search';\n            if (status == '') {\n                status = -1;\n            }\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, { page: page, pagesize: pagesize, status: status, category_id: category_id, time_start: time_start, time_end: time_end }).then(function (ret) {\n                return ret.data;\n            });\n        }\n\n        // 获取工单分类\n\n    }, {\n        key: 'category',\n        value: function category() {\n            var url = urlPre + '/category';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, {}).then(function (ret) {\n                return ret.data;\n            });\n        }\n\n        // 查看工单\n\n    }, {\n        key: 'view',\n        value: function view(id) {\n            var url = urlPre + '/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, {}).then(function (ret) {\n                return ret.data;\n            });\n        }\n\n        // 提交工单\n\n    }, {\n        key: 'create',\n        value: function create(_ref2) {\n            var _ref2$category_id = _ref2.category_id,\n                category_id = _ref2$category_id === undefined ? 1 : _ref2$category_id,\n                content = _ref2.content,\n                _ref2$images = _ref2.images,\n                images = _ref2$images === undefined ? [] : _ref2$images,\n                contact = _ref2.contact;\n\n            var url = urlPre + '/';\n            if (images) {\n                images = JSON.stringify(images);\n            }\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { category_id: category_id, content: content, images: images, contact: contact }).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 回复工单\n\n    }, {\n        key: 'reply',\n        value: function reply(_ref3) {\n            var id = _ref3.id,\n                status = _ref3.status,\n                content = _ref3.content,\n                images = _ref3.images,\n                confirm = _ref3.confirm;\n\n            var url = urlPre + '/' + id + '/reply';\n            if (images) {\n                images = JSON.stringify(images);\n            }\n            if (confirm) {\n                confirm = 1;\n            } else {\n                confirm = 0;\n            }\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"c\" /* put */](url, { status: status, content: content, images: images, confirm: confirm }).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                } else {\n                    return ret.data;\n                }\n            });\n        }\n\n        // 确认已解决\n\n    }, {\n        key: 'confirm',\n        value: function confirm(id) {\n            var url = urlPre + '/' + id + '/confirm';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"c\" /* put */](url, {}).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 删除工单\n\n    }, {\n        key: 'remove',\n        value: function remove(id) {\n            var url = urlPre + '/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"d\" /* del */](url, {}).then(function (ret) {\n                if (ret.code) {\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 获取上传图片地址\n\n    }, {\n        key: 'uploadImageUrl',\n        value: function uploadImageUrl() {\n            return urlPre + '/image';\n        }\n    }]);\n\n    return FeedbackUserService;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new FeedbackUserService());\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 504:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_authUtils__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_config__ = __webpack_require__(1);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    props: {\n        // 要上传的url地址\n        url: String,\n        // 上传的文件字段名\n        name: {\n            type: String,\n            default: 'image'\n        },\n        // 上传成功后的回调\n        onSuccess: Function,\n        // 删除后的回调\n        onRemove: Function,\n        // 允许上传多少个文件，默认只允许上传一个\n        fileNum: {\n            type: Number,\n            default: 1\n        }\n    },\n    data: function data() {\n        return {\n            dialogImageUrl: '',\n            dialogVisible: false,\n            showUploadBtn: true,\n            headers: void 0,\n            host: __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost,\n            uploadBtn: null, // 上传按钮\n            multiple: false,\n            imgList: []\n        };\n    },\n\n    watch: {\n        'imgList': function imgList(val) {\n            console.log('imgList', val);\n            if (val.length >= this.fileNum && val[0].url) {\n                console.log('hide btn');\n                this.uploadBtn.style.display = 'none';\n            } else {\n                console.log('show btn');\n                this.uploadBtn.style.display = 'inline-block';\n            }\n        }\n    },\n    created: function created() {\n        this.headers = {\n            'Authorization': 'Bearer ' + __WEBPACK_IMPORTED_MODULE_0__utils_authUtils__[\"a\" /* default */].getAuthToken(),\n            'TwoStep': 'Bearer ' + __WEBPACK_IMPORTED_MODULE_0__utils_authUtils__[\"a\" /* default */].getTwiceToken() // 二次验证的token\n        };\n    },\n    activated: function activated() {\n        this.uploadBtn && (this.uploadBtn = this.$refs.container.querySelector('.el-upload--picture-card'));\n    },\n    mounted: function mounted() {\n        this.uploadBtn = this.$refs.container.querySelector('.el-upload--picture-card');\n    },\n\n    methods: {\n        handlePreview: function handlePreview(file) {\n            this.dialogImageUrl = file.url;\n            this.dialogVisible = true;\n        },\n        handleRemove: function handleRemove(file, fileList) {\n            console.log('handleRemove', file, fileList);\n            this.onRemove && this.onRemove(file, fileList);\n            this.imgList = fileList;\n            this.$refs.container.querySelector('.el-upload__input').value = null;\n        },\n        handleSuccess: function handleSuccess(response, file, fileList) {\n            console.log('handleSuccess', response, file, fileList);\n            if (response.code == 0) {\n                this.onSuccess && this.onSuccess(response, file, fileList);\n                this.imgList = fileList;\n            } else {\n                xmview.showTip('error', response.message);\n            }\n        },\n        clearFiles: function clearFiles() {\n            this.imgList = [];\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 510:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(112)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".component-upload-uploadimages{height:100px}.component-upload-uploadimages .el-upload--picture-card,.component-upload-uploadimages .el-upload-list__item{width:100px;height:100px}.component-upload-uploadimages .el-upload--picture-card{line-height:100px}\", \"\", {\"version\":3,\"sources\":[\"/Users/zhaoyicheng/Documents/Code/yxt/PC-old/sys_ui/assets/src/views/component/upload/UploadImages.vue\"],\"names\":[],\"mappings\":\"AACA,+BAA+B,YAAY,CAC1C,AACD,6GAA6G,YAAY,YAAY,CACpI,AACD,wDAAwD,iBAAiB,CACxE\",\"file\":\"UploadImages.vue\",\"sourcesContent\":[\"\\n.component-upload-uploadimages{height:100px\\n}\\n.component-upload-uploadimages .el-upload-list__item,.component-upload-uploadimages .el-upload--picture-card{width:100px;height:100px\\n}\\n.component-upload-uploadimages .el-upload--picture-card{line-height:100px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 768:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(510);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(113)(\"0e24c647\", content, true);\n\n/***/ }),\n\n/***/ 786:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(768)\n\nvar Component = __webpack_require__(5)(\n  /* script */\n  __webpack_require__(504),\n  /* template */\n  __webpack_require__(789),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 789:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"container\",\n    staticClass: \"component-upload-uploadimages\"\n  }, [_c('el-upload', {\n    attrs: {\n      \"headers\": _vm.headers,\n      \"action\": _vm.url,\n      \"name\": _vm.name,\n      \"list-type\": \"picture-card\",\n      \"multiple\": _vm.multiple,\n      \"on-success\": _vm.handleSuccess,\n      \"on-error\": _vm.handleRemove,\n      \"on-preview\": _vm.handlePreview,\n      \"on-remove\": _vm.handleRemove,\n      \"file-list\": _vm.imgList,\n      \"accept\": \"image/jpg,image/jpeg,image/png,image/gif\"\n    }\n  }, [(_vm.showUploadBtn) ? _c('i', {\n    staticClass: \"el-icon-plus\"\n  }) : _vm._e()]), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"size\": \"tiny\"\n    },\n    model: {\n      value: (_vm.dialogVisible),\n      callback: function($$v) {\n        _vm.dialogVisible = $$v\n      },\n      expression: \"dialogVisible\"\n    }\n  }, [_c('img', {\n    attrs: {\n      \"width\": \"100%\",\n      \"src\": _vm.dialogImageUrl,\n      \"alt\": \"\"\n    }\n  })])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 840:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__services_base_feedbackService__ = __webpack_require__(403);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_filterUtils__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_authUtils__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__component_upload_UploadImages_vue__ = __webpack_require__(786);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__component_upload_UploadImages_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__component_upload_UploadImages_vue__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'feedback-add',\n    filters: {\n        fillImgPath: __WEBPACK_IMPORTED_MODULE_1__utils_filterUtils__[\"fillImgPath\"]\n    },\n    components: {\n        UploadImages: __WEBPACK_IMPORTED_MODULE_3__component_upload_UploadImages_vue___default.a\n    },\n    data: function data() {\n        return {\n            form: {\n                category_id: '', // 分类\n                content: '', // 标题\n                contact: '', // 正文内容\n                images: [] // 图片地址\n            },\n            rules: {\n                category_id: { type: 'number', required: true, message: '请选择栏目', trigger: 'blur' },\n                content: { type: 'string', required: true, message: '请描述您遇到的问题', trigger: 'change' },\n                contact: { type: 'string', required: true, message: '请填写联系方式', trigger: 'change' }\n            },\n            formLabelWidth: '120px', // 表单label的宽度\n            categories: [],\n            uploadImgUrl: '',\n            uploadName: 'file',\n            fileNum: 3\n        };\n    },\n\n    watch: {\n        'form.images': function formImages(val) {\n            console.log('watch images:', val);\n        }\n    },\n    created: function created() {\n        var _this = this;\n\n        this.uploadImgUrl = __WEBPACK_IMPORTED_MODULE_0__services_base_feedbackService__[\"a\" /* default */].uploadImageUrl();\n        __WEBPACK_IMPORTED_MODULE_0__services_base_feedbackService__[\"a\" /* default */].category().then(function (ret) {\n            _this.categories = ret.categories;\n        }).catch(function (ret) {\n            xmview.showTip('error', ret.message);\n        });\n        var userInfo = __WEBPACK_IMPORTED_MODULE_2__utils_authUtils__[\"a\" /* default */].getUserInfo();\n        if (userInfo) {\n            this.form.contact = userInfo.mobile ? userInfo.mobile : userInfo.email;\n        }\n        xmview.setContentLoading(false);\n    },\n\n    methods: {\n        handleImgUploaded: function handleImgUploaded(ret, file, fileList) {\n            if (this.form.images.indexOf(ret.data.url) == -1) {\n                this.form.images.push(ret.data.url);\n            }\n        },\n        handleImgRemoved: function handleImgRemoved(file, fileList) {\n            var index = this.form.images.indexOf(file.response.data.url);\n            if (index > -1) {\n                this.form.images.splice(index, 1);\n            }\n        },\n        submitForm: function submitForm(formName) {\n            var _this2 = this;\n\n            this.$refs[formName].validate(function (valid) {\n                if (valid) {\n                    __WEBPACK_IMPORTED_MODULE_0__services_base_feedbackService__[\"a\" /* default */].create(_this2.form).then(function () {\n                        xmview.showTip('success', '提交成功');\n                        _this2.$router.push({ name: 'feedback-index', params: { reload: true } });\n                    }).catch(function (ret) {\n                        xmview.showTip('error', ret.message);\n                    });\n                } else {\n                    return false;\n                }\n            });\n        },\n        resetForm: function resetForm(formName) {\n            this.$refs[formName].resetFields();\n        }\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/78.ab7aea718aba9d681383.js","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.27.3@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#feedback-add{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff}#feedback-add:after{content:\\\"\\\";clear:both;display:block}#feedback-add .pagin{float:right;margin-top:15px}#feedback-add .bottom-manage{margin-top:15px}#feedback-add .manage-container{position:absolute;right:0;top:-50px}#feedback-add .header-button.manage-container>.el-button i{margin-right:5px}#feedback-add .header-button.manage-container>.el-button i:before{position:relative;top:-1px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}.keyword-container{width:90%;margin-left:5%;margin-bottom:5px}#feedback-add .feedback-form{width:90%}#feedback-add .feedback-form .input{max-width:300px}#feedback-add .el-dialog__wrapper{padding-top:15px;background:rgba(0,0,0,.5);z-index:1000}\", \"\", {\"version\":3,\"sources\":[\"/Users/zhaoyicheng/Documents/Code/yxt/PC-old/sys_ui/assets/src/views/base/feedback/Add.vue\"],\"names\":[],\"mappings\":\"AACA,cAAc,aAAa,kBAAkB,yBAAyB,kBAAkB,eAAe,CACtG,AACD,oBAAoB,WAAW,WAAW,aAAa,CACtD,AACD,qBAAqB,YAAY,eAAe,CAC/C,AACD,6BAA6B,eAAe,CAC3C,AACD,gCAAgC,kBAAkB,QAAQ,SAAS,CAClE,AACD,2DAA2D,gBAAgB,CAC1E,AACD,kEAAkE,kBAAkB,QAAQ,CAC3F,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,mBAAmB,UAAU,eAAe,iBAAiB,CAC5D,AACD,6BAA6B,SAAS,CACrC,AACD,oCAAoC,eAAe,CAClD,AACD,kCAAkC,iBAAiB,0BAA2B,YAAY,CACzF\",\"file\":\"Add.vue\",\"sourcesContent\":[\"\\n#feedback-add{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\\n}\\n#feedback-add:after{content:'';clear:both;display:block\\n}\\n#feedback-add .pagin{float:right;margin-top:15px\\n}\\n#feedback-add .bottom-manage{margin-top:15px\\n}\\n#feedback-add .manage-container{position:absolute;right:0;top:-50px\\n}\\n#feedback-add .header-button.manage-container>.el-button i{margin-right:5px\\n}\\n#feedback-add .header-button.manage-container>.el-button i:before{position:relative;top:-1px\\n}\\n.text-blue{color:#20A0FF\\n}\\n.text-light-blue{color:#58B7FF\\n}\\n.text-dark-blue{color:#1D8CE0\\n}\\n.text-success{color:#13CE66\\n}\\n.text-warning{color:#F7BA2A\\n}\\n.text-danger{color:#FF4949\\n}\\n.keyword-container{width:90%;margin-left:5%;margin-bottom:5px\\n}\\n#feedback-add .feedback-form{width:90%\\n}\\n#feedback-add .feedback-form .input{max-width:300px\\n}\\n#feedback-add .el-dialog__wrapper{padding-top:15px;background:rgba(0,0,0,0.5);z-index:1000\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-e9a6e82a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/base/feedback/Add.vue\n// module id = 1070\n// module chunks = 78","\n/* styles */\nrequire(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-e9a6e82a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=styles&index=0!./Add.vue\")\n\nvar Component = require(\"!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=script&index=0!./Add.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-e9a6e82a\\\"}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=template&index=0!./Add.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/base/feedback/Add.vue\n// module id = 115\n// module chunks = 78","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.27.3@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-e9a6e82a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@4.1.1@sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./Add.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"0236ff84\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-e9a6e82a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/base/feedback/Add.vue\n// module id = 1177\n// module chunks = 78","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', {\n    attrs: {\n      \"id\": \"feedback-add\"\n    }\n  }, [_c('div', {\n    staticClass: \"manage-container\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.$router.push({\n          name: 'feedback-index'\n        })\n      }\n    }\n  }, [_vm._v(\"返回列表\")])], 1), _vm._v(\" \"), _c('main', {\n    staticClass: \"feedback-form\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.form,\n      \"rules\": _vm.rules,\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"prop\": \"category_id\",\n      \"label\": \"问题分类\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"未选择\"\n    },\n    model: {\n      value: (_vm.form.category_id),\n      callback: function($$v) {\n        _vm.form.category_id = $$v\n      },\n      expression: \"form.category_id\"\n    }\n  }, _vm._l((_vm.categories), function(cate) {\n    return _c('el-option', {\n      key: cate.id,\n      attrs: {\n        \"label\": cate.name,\n        \"value\": cate.id\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"content\",\n      \"label\": \"问题描述\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"rows\": 5,\n      \"placeholder\": \"请详细描述您所遇到的问题或优化建议\"\n    },\n    model: {\n      value: (_vm.form.content),\n      callback: function($$v) {\n        _vm.form.content = $$v\n      },\n      expression: \"form.content\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"images\",\n      \"label\": \"上传截图(选填)\"\n    }\n  }, [_c('UploadImages', {\n    ref: \"uploadImg\",\n    staticClass: \"upload-btn\",\n    attrs: {\n      \"url\": _vm.uploadImgUrl,\n      \"name\": _vm.uploadName,\n      \"fileNum\": _vm.fileNum,\n      \"onSuccess\": _vm.handleImgUploaded,\n      \"onRemove\": _vm.handleImgRemoved\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"contact\",\n      \"label\": \"联系方式\"\n    }\n  }, [_c('el-input', {\n    staticClass: \"input\",\n    attrs: {\n      \"type\": \"input\",\n      \"placeholder\": \"请留下联系方式用于问题跟进\"\n    },\n    model: {\n      value: (_vm.form.contact),\n      callback: function($$v) {\n        _vm.form.contact = $$v\n      },\n      expression: \"form.contact\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('form')\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-e9a6e82a\"}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/base/feedback/Add.vue\n// module id = 1313\n// module chunks = 78","import * as api from '../api'\nimport config from '../../utils/config'\nconst urlPre = config.apiHost + '/feedback'\n\nclass FeedbackUserService {\n    // 获取我的工单列表\n    search({page, pagesize, status = -1, category_id, time_start, time_end}) {\n        let url = `${urlPre}/search`\n        if (status == '') {\n            status = -1\n        }\n        return api.get(url, {page, pagesize, status, category_id, time_start, time_end}).then((ret) => {\n            return ret.data\n        })\n    }\n\n    // 获取工单分类\n    category() {\n        let url = `${urlPre}/category`\n        return api.get(url, {}).then((ret) => {\n            return ret.data\n        })\n    }\n\n    // 查看工单\n    view(id) {\n        let url = `${urlPre}/${id}`\n        return api.get(url, {}).then((ret) => {\n            return ret.data\n        })\n    }\n\n    // 提交工单\n    create({category_id = 1, content, images = [], contact}) {\n        let url = `${urlPre}/`\n        if (images) {\n            images = JSON.stringify(images)\n        }\n        return api.post(url, {category_id, content, images, contact}).then((ret) => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 回复工单\n    reply({id, status, content, images, confirm}) {\n        let url = `${urlPre}/${id}/reply`\n        if (images) {\n            images = JSON.stringify(images)\n        }\n        if (confirm) {\n            confirm = 1\n        } else {\n            confirm = 0\n        }\n        return api.put(url, {status, content, images, confirm}).then((ret) => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            } else {\n                return ret.data\n            }\n        })\n    }\n\n    // 确认已解决\n    confirm(id) {\n        let url = `${urlPre}/${id}/confirm`\n        return api.put(url, {}).then((ret) => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 删除工单\n    remove(id) {\n        let url = `${urlPre}/${id}`\n        return api.del(url, {}).then((ret) => {\n            if (ret.code) {\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 获取上传图片地址\n    uploadImageUrl() {\n        return `${urlPre}/image`\n    }\n}\n\nexport default new FeedbackUserService()\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/base/feedbackService.js","<!--使用ex.-->\n<!--<el-form-item label=\"反馈附件\" prop=\"image\">-->\n<!--<UploadImages :url=\"uploadImgUrl\" :fileNum=\"fileNum\" :name=\"file\"-->\n<!--:on-success=\"res => form.images.push(res.data.url)\"-->\n<!--:on-remove=\"file => form.images.splice(form.images.indexOf(file.response.data.url),1)\" ></UploadImg>-->\n<style lang=\"scss\" rel=\"stylesheet/scss\">\n    @import \"../../../utils/mixins/mixins\";\n\n    .component-upload-uploadimages {\n        height: 100px;\n        .el-upload-list__item,\n        .el-upload--picture-card {\n            width: 100px;\n            height: 100px;\n        }\n        .el-upload--picture-card {\n            line-height: 100px;\n        }\n    }\n</style>\n<template>\n    <div class=\"component-upload-uploadimages\" ref=\"container\">\n        <el-upload :headers=\"headers\"\n                   :action=\"url\"\n                   :name=\"name\"\n                   list-type=\"picture-card\"\n                   :multiple=\"multiple\"\n                   :on-success=\"handleSuccess\"\n                   :on-error=\"handleRemove\"\n                   :on-preview=\"handlePreview\"\n                   :on-remove=\"handleRemove\"\n                   :file-list=\"imgList\"\n                   accept=\"image/jpg,image/jpeg,image/png,image/gif\">\n            <i v-if=\"showUploadBtn\" class=\"el-icon-plus\"></i>\n        </el-upload>\n        <el-dialog v-model=\"dialogVisible\" size=\"tiny\">\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    import authUtils from '../../../utils/authUtils'\n    import config from '../../../utils/config'\n    export default{\n        props: {\n            // 要上传的url地址\n            url: String,\n            // 上传的文件字段名\n            name: {\n                type: String,\n                default: 'image',\n            },\n            // 上传成功后的回调\n            onSuccess: Function,\n            // 删除后的回调\n            onRemove: Function,\n            // 允许上传多少个文件，默认只允许上传一个\n            fileNum: {\n                type: Number,\n                default: 1\n            },\n        },\n        data () {\n            return {\n                dialogImageUrl: '',\n                dialogVisible: false,\n                showUploadBtn: true,\n                headers: void 0,\n                host: config.apiHost,\n                uploadBtn: null, // 上传按钮\n                multiple: false,\n                imgList: [],\n            }\n        },\n        watch: {\n            'imgList' (val) {\n                console.log('imgList', val)\n                if (val.length >= this.fileNum && val[0].url) {\n                    console.log('hide btn')\n                    this.uploadBtn.style.display = 'none'\n                } else {\n                    console.log('show btn')\n                    this.uploadBtn.style.display = 'inline-block'\n                }\n            }\n        },\n        created () {\n            this.headers = {\n                'Authorization': 'Bearer ' + authUtils.getAuthToken(),\n                'TwoStep': `Bearer ` + authUtils.getTwiceToken() // 二次验证的token\n            }\n        },\n        activated () {\n            this.uploadBtn && (this.uploadBtn = this.$refs.container.querySelector('.el-upload--picture-card'))\n        },\n        mounted () {\n            this.uploadBtn = this.$refs.container.querySelector('.el-upload--picture-card')\n        },\n        methods: {\n            handlePreview (file) {\n                this.dialogImageUrl = file.url\n                this.dialogVisible = true\n            },\n            handleRemove (file, fileList) {\n                console.log('handleRemove', file, fileList)\n                this.onRemove && this.onRemove(file, fileList)\n                this.imgList = fileList\n                this.$refs.container.querySelector('.el-upload__input').value = null\n            },\n            handleSuccess (response, file, fileList) {\n                console.log('handleSuccess', response, file, fileList)\n                if (response.code == 0) {\n                    this.onSuccess && this.onSuccess(response, file, fileList)\n                    this.imgList = fileList\n                } else {\n                    xmview.showTip('error', response.message)\n                }\n            },\n            clearFiles() {\n                this.imgList = []\n            }\n        },\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// UploadImages.vue?01b868a6","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.27.3@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".component-upload-uploadimages{height:100px}.component-upload-uploadimages .el-upload--picture-card,.component-upload-uploadimages .el-upload-list__item{width:100px;height:100px}.component-upload-uploadimages .el-upload--picture-card{line-height:100px}\", \"\", {\"version\":3,\"sources\":[\"/Users/zhaoyicheng/Documents/Code/yxt/PC-old/sys_ui/assets/src/views/component/upload/UploadImages.vue\"],\"names\":[],\"mappings\":\"AACA,+BAA+B,YAAY,CAC1C,AACD,6GAA6G,YAAY,YAAY,CACpI,AACD,wDAAwD,iBAAiB,CACxE\",\"file\":\"UploadImages.vue\",\"sourcesContent\":[\"\\n.component-upload-uploadimages{height:100px\\n}\\n.component-upload-uploadimages .el-upload-list__item,.component-upload-uploadimages .el-upload--picture-card{width:100px;height:100px\\n}\\n.component-upload-uploadimages .el-upload--picture-card{line-height:100px\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-23fadaab\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/component/upload/UploadImages.vue\n// module id = 510\n// module chunks = 77 78","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.27.3@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-23fadaab\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@4.1.1@sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./UploadImages.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"0e24c647\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-23fadaab\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/component/upload/UploadImages.vue\n// module id = 768\n// module chunks = 77 78","\n/* styles */\nrequire(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-23fadaab\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=styles&index=0!./UploadImages.vue\")\n\nvar Component = require(\"!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=script&index=0!./UploadImages.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-23fadaab\\\"}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=template&index=0!./UploadImages.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/component/upload/UploadImages.vue\n// module id = 786\n// module chunks = 77 78","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"container\",\n    staticClass: \"component-upload-uploadimages\"\n  }, [_c('el-upload', {\n    attrs: {\n      \"headers\": _vm.headers,\n      \"action\": _vm.url,\n      \"name\": _vm.name,\n      \"list-type\": \"picture-card\",\n      \"multiple\": _vm.multiple,\n      \"on-success\": _vm.handleSuccess,\n      \"on-error\": _vm.handleRemove,\n      \"on-preview\": _vm.handlePreview,\n      \"on-remove\": _vm.handleRemove,\n      \"file-list\": _vm.imgList,\n      \"accept\": \"image/jpg,image/jpeg,image/png,image/gif\"\n    }\n  }, [(_vm.showUploadBtn) ? _c('i', {\n    staticClass: \"el-icon-plus\"\n  }) : _vm._e()]), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"size\": \"tiny\"\n    },\n    model: {\n      value: (_vm.dialogVisible),\n      callback: function($$v) {\n        _vm.dialogVisible = $$v\n      },\n      expression: \"dialogVisible\"\n    }\n  }, [_c('img', {\n    attrs: {\n      \"width\": \"100%\",\n      \"src\": _vm.dialogImageUrl,\n      \"alt\": \"\"\n    }\n  })])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-23fadaab\"}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/component/upload/UploadImages.vue\n// module id = 789\n// module chunks = 77 78","<style lang='scss' rel='stylesheet/scss'>\n    @import \"../../../utils/mixins/common\";\n    @import \"../../../utils/mixins/topSearch\";\n\n    #feedback-add {\n        @extend %content-container;\n\n        .manage-container {\n            @extend %right-top-btnContainer;\n        }\n        .feedback-form {\n            width: 90%;\n            .input {\n                max-width: 300px;\n            }\n        }\n\n        .el-dialog__wrapper {\n            padding-top: 15px;\n            background: rgba(0, 0, 0, .5);\n            z-index: 1000;\n        }\n    }\n</style>\n\n<template>\n    <main id=\"feedback-add\">\n        <div class=\"manage-container\">\n            <el-button type=\"info\" @click=\"$router.push({name: 'feedback-index'})\">返回列表</el-button>\n        </div>\n\n        <main class=\"feedback-form\">\n            <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" :label-width=\"formLabelWidth\">\n                <el-form-item prop=\"category_id\" label=\"问题分类\">\n                    <el-select v-model=\"form.category_id\" placeholder=\"未选择\">\n                        <el-option v-for=\"cate in categories\" :label=\"cate.name\" :value=\"cate.id\"\n                                   :key=\"cate.id\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item prop=\"content\" label=\"问题描述\">\n                    <el-input type=\"textarea\" v-model=\"form.content\" :rows=\"5\"\n                              placeholder=\"请详细描述您所遇到的问题或优化建议\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"images\" label=\"上传截图(选填)\">\n                    <UploadImages ref=\"uploadImg\"\n                                  :url=\"uploadImgUrl\"\n                                  :name=\"uploadName\"\n                                  :fileNum=\"fileNum\"\n                                  :onSuccess=\"handleImgUploaded\"\n                                  :onRemove=\"handleImgRemoved\"\n                                  class=\"upload-btn\">\n                    </UploadImages>\n                </el-form-item>\n                <el-form-item prop=\"contact\" label=\"联系方式\">\n                    <el-input class=\"input\" type=\"input\" v-model=\"form.contact\" placeholder=\"请留下联系方式用于问题跟进\"></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"submitForm('form')\">提交</el-button>\n                </el-form-item>\n            </el-form>\n        </main>\n\n    </main>\n</template>\n\n<script>\n    import feedbackService from '../../../services/base/feedbackService'\n    import {fillImgPath} from '../../../utils/filterUtils'\n    import authUtils from '../../../utils/authUtils'\n    import UploadImages from '../../component/upload/UploadImages.vue'\n    export default {\n        name: 'feedback-add',\n        filters: {\n            fillImgPath\n        },\n        components: {\n            UploadImages\n        },\n        data() {\n            return {\n                form: {\n                    category_id: '',    // 分类\n                    content: '',        // 标题\n                    contact: '',        // 正文内容\n                    images: [],         // 图片地址\n                },\n                rules: {\n                    category_id: {type: 'number', required: true, message: '请选择栏目', trigger: 'blur'},\n                    content: {type: 'string', required: true, message: '请描述您遇到的问题', trigger: 'change'},\n                    contact: {type: 'string', required: true, message: '请填写联系方式', trigger: 'change'}\n                },\n                formLabelWidth: '120px', // 表单label的宽度\n                categories: [],\n                uploadImgUrl: '',\n                uploadName: 'file',\n                fileNum: 3,\n            }\n        },\n        watch: {\n            'form.images' (val) {\n                console.log('watch images:', val)\n            }\n        },\n        created() {\n            this.uploadImgUrl = feedbackService.uploadImageUrl()\n            feedbackService.category().then((ret) => {\n                this.categories = ret.categories\n            }).catch((ret) => {\n                xmview.showTip('error', ret.message)\n            })\n            let userInfo = authUtils.getUserInfo()\n            if (userInfo) {\n                this.form.contact = userInfo.mobile ? userInfo.mobile : userInfo.email\n            }\n            xmview.setContentLoading(false)\n        },\n        methods: {\n            handleImgUploaded(ret, file, fileList) {\n                if (this.form.images.indexOf(ret.data.url) == -1) {\n                    this.form.images.push(ret.data.url)\n                }\n            },\n            handleImgRemoved(file, fileList) {\n                let index = this.form.images.indexOf(file.response.data.url)\n                if (index > -1) {\n                    this.form.images.splice(index, 1)\n                }\n            },\n            submitForm(formName) {\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        feedbackService.create(this.form).then(() => {\n                            xmview.showTip('success', '提交成功')\n                            this.$router.push({name: 'feedback-index', params: {reload: true}})\n                        }).catch((ret) => {\n                            xmview.showTip('error', ret.message)\n                        })\n                    } else {\n                        return false\n                    }\n                })\n            },\n            resetForm(formName) {\n                this.$refs[formName].resetFields()\n            }\n        }\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Add.vue?68d01e1c"],"sourceRoot":""}