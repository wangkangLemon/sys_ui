{"version":3,"sources":["webpack:///static/js/76.b88326f047eaee5dd54a.js","webpack:///./src/views/course/video/Add.vue?557c","webpack:///./src/views/course/video/Add.vue?5a77","webpack:///./src/views/course/video/Add.vue","webpack:///Tags.vue?134a*********","webpack:///./src/views/component/form/Tags.vue?a03d**********","webpack:///./src/views/component/form/Tags.vue?9e72**********","webpack:///./src/views/component/form/Tags.vue?625f*********","webpack:///./src/views/component/form/Tags.vue?cc57**********","webpack:///./src/services/course/videoService.js?7806***","webpack:///Add.vue","webpack:///./src/vendor/ossSdk.js","webpack:///./src/views/course/video/Add.vue?2da6"],"names":["webpackJsonp","1079","module","exports","__webpack_require__","content","i","locals","1201","render","_vm","this","_h","$createElement","_c","_self","attrs","id","listData","length","staticClass","type","on","click","fileClick","_v","_e","_l","item","index","key","slot","_s","name","icon","$event","deleteVideo","label-width","label","model","value","callback","$$v","expression","tags","percentage","process","status","disabled","uploading","submit","ref","staticStyle","display","multiple","accept","change","fileChange","staticRenderFns","140","Component","255","__webpack_exports__","Object","defineProperty","props","Array","closable","Boolean","default","data","currVal","inputVisible","inputValue","created","activated","watch","val","$emit","methods","handleClose","tag","splice","indexOf","showInput","_this","$nextTick","_","$refs","saveTagInput","input","focus","handleInputConfirm","push","components","256","version","sources","names","mappings","file","sourcesContent","sourceRoot","258","259","260","close-transition","close","placeholder","size","blur","nativeOn","keyup","_k","keyCode","311","Promise","_classCallCheck","instance","Constructor","TypeError","__WEBPACK_IMPORTED_MODULE_0__api__","__WEBPACK_IMPORTED_MODULE_1__utils_config__","__WEBPACK_IMPORTED_MODULE_2__utils_authUtils__","_createClass","defineProperties","target","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype","urlPre","apiHost","VideoService","_ref","page","pagesize","file_name","time_start","time_end","url","then","ret","_ref2","cover","duration","_ref3","_ref4","_ref5","arguments","undefined","gov_id","material_id","title","create_start","create_end","used","_ref6","source_type","source_url","_ref7","getUserInfo","finalUrl","_ref8","companyid","company_id","_ref9","code","xmview","showTip","message","reject","form","call","874","__WEBPACK_IMPORTED_MODULE_0__component_form_Tags_vue__","__WEBPACK_IMPORTED_MODULE_0__component_form_Tags_vue___default","n","__WEBPACK_IMPORTED_MODULE_1__vendor_ossSdk__","__WEBPACK_IMPORTED_MODULE_2__services_course_videoService__","__WEBPACK_IMPORTED_MODULE_3__utils_authUtils__","ossSdk","vTags","a","beforeCreate","user","mounted","setContentLoading","e","_listData","dom","files","checkExist","apply","uploadVideo","count","getOssToken","now","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","Math","random","toString","substring","join","extname","uploadFile","progress","create","res","requestUrls","split","setTimeout","$router","back","err","JSON","stringify","parts","shift","pop","963","ossOption","changeToken","saveCheckPoint","checkpoint","getFileKey","window","localStorage","setItem","deleteCheckPoint","removeItem","getCheckPoint","getItem","parse","accessKeyId","AccessKeyId","accessKeySecret","AccessKeySecret","stsToken","SecurityToken","bucket","BucketName","region","Region","secure","location","protocol","client","OSS","Wrapper","checkPointIndexes","resolve","script","document","createElement","src","head","appendChild","onload","lastModified","webkitRelativePath","success","error","multipartUpload","partSize","pgs","cpt","done","floor","catch","options","cancelUploadFile","abortMultipartUpload","uploadId","971"],"mappings":"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","file":"static/js/76.b88326f047eaee5dd54a.js","sourcesContent":["webpackJsonp([76],{\n\n/***/ 1079:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(971);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(113)(\"35f91330\", content, true);\n\n/***/ }),\n\n/***/ 1201:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', {\n    attrs: {\n      \"id\": \"course-video-add-container\"\n    }\n  }, [(_vm.listData.length < 1) ? _c('section', {\n    staticClass: \"first-select-box\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.fileClick\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-upload el-icon--right\"\n  }), _vm._v(\" \"), _c('i', [_vm._v(\" 选择要上传的视频文件\")])])], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.listData), function(item, index) {\n    return _c('el-card', {\n      key: index,\n      staticClass: \"box-card\"\n    }, [_c('div', {\n      staticClass: \"clearfix\",\n      slot: \"header\"\n    }, [_c('span', [_vm._v(_vm._s(item.name))]), _vm._v(\" \"), _c('el-button', {\n      attrs: {\n        \"type\": \"text\",\n        \"icon\": \"delete\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteVideo(index)\n        }\n      }\n    })], 1), _vm._v(\" \"), _c('el-form', {\n      attrs: {\n        \"label-width\": \"120px\"\n      }\n    }, [_c('el-form-item', {\n      attrs: {\n        \"label\": \"视频名称\"\n      }\n    }, [_c('el-input', {\n      model: {\n        value: (item.name),\n        callback: function($$v) {\n          item.name = $$v\n        },\n        expression: \"item.name\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-form-item', {\n      attrs: {\n        \"label\": \"视频标签\"\n      }\n    }, [_c('vTags', {\n      model: {\n        value: (item.tags),\n        callback: function($$v) {\n          item.tags = $$v\n        },\n        expression: \"item.tags\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-form-item', {\n      attrs: {\n        \"label\": \"\"\n      }\n    }, [_c('el-progress', {\n      attrs: {\n        \"percentage\": item.process,\n        \"status\": item.process >= 100 ? 'success' : ''\n      }\n    })], 1)], 1)], 1)\n  }), _vm._v(\" \"), (_vm.listData.length > 0) ? _c('div', {\n    staticClass: \"bottom-btn\"\n  }, [_c('el-button', {\n    attrs: {\n      \"disabled\": _vm.uploading\n    },\n    on: {\n      \"click\": _vm.fileClick\n    }\n  }, [_vm._v(\"继续添加视频\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": _vm.uploading\n    },\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_c('i', [_vm._v(_vm._s(_vm.uploading ? '正在上传' : '开始上传'))])])], 1) : _vm._e(), _vm._v(\" \"), _c('input', {\n    ref: \"file\",\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"multiple\": \"multiple\",\n      \"accept\": \"audio/mp4, video/mp4,video/mpeg,video/mpg\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.fileChange($event)\n      }\n    }\n  })], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 140:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(1079)\n\nvar Component = __webpack_require__(5)(\n  /* script */\n  __webpack_require__(874),\n  /* template */\n  __webpack_require__(1201),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 255:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    props: {\n        value: Array,\n        closable: { type: Boolean, default: true }\n    },\n    data: function data() {\n        return {\n            currVal: this.value || [],\n            inputVisible: false,\n            inputValue: void 0\n        };\n    },\n    created: function created() {},\n    activated: function activated() {},\n\n    watch: {\n        'value': function value(val) {\n            if (val != this.currVal || val && val.length != this.currVal.length) {\n                this.currVal = val;\n            }\n        },\n        'currVal': function currVal(val) {\n            if (val.length != this.currVal || val != this.currVal) {\n                this.$emit('input', val);\n            }\n        }\n    },\n    methods: {\n        handleClose: function handleClose(tag) {\n            this.currVal.splice(this.currVal.indexOf(tag), 1);\n        },\n        showInput: function showInput() {\n            var _this = this;\n\n            this.inputVisible = true;\n            this.$nextTick(function (_) {\n                _this.$refs.saveTagInput.$refs.input.focus();\n            });\n        },\n        handleInputConfirm: function handleInputConfirm() {\n            var inputValue = this.inputValue;\n            if (inputValue) {\n                this.currVal.push(inputValue);\n            }\n            this.inputVisible = false;\n            this.inputValue = '';\n        }\n    },\n    components: {}\n});\n\n/***/ }),\n\n/***/ 256:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(112)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#component-form-tags{display:inline-block}#component-form-tags .el-tag{margin-right:5px}#component-form-tags .input-new-tag{display:inline-block;width:80px!important}\", \"\", {\"version\":3,\"sources\":[\"/Users/zhaoyicheng/Documents/Code/yxt/PC-old/sys_ui/assets/src/views/component/form/Tags.vue\"],\"names\":[],\"mappings\":\"AACA,qBAAqB,oBAAoB,CACxC,AACD,6BAA6B,gBAAgB,CAC5C,AACD,oCAAoC,qBAAqB,oBAAqB,CAC7E\",\"file\":\"Tags.vue\",\"sourcesContent\":[\"\\n#component-form-tags{display:inline-block\\n}\\n#component-form-tags .el-tag{margin-right:5px\\n}\\n#component-form-tags .input-new-tag{display:inline-block;width:80px !important\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 258:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(256);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(113)(\"0f7a44a6\", content, true);\n\n/***/ }),\n\n/***/ 259:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(258)\n\nvar Component = __webpack_require__(5)(\n  /* script */\n  __webpack_require__(255),\n  /* template */\n  __webpack_require__(260),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 260:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('article', {\n    attrs: {\n      \"id\": \"component-form-tags\"\n    }\n  }, [_vm._l((_vm.currVal), function(tag) {\n    return _c('el-tag', {\n      key: tag,\n      attrs: {\n        \"closable\": _vm.closable,\n        \"close-transition\": false\n      },\n      on: {\n        \"close\": function($event) {\n          _vm.handleClose(tag)\n        }\n      }\n    }, [_c('i', [_vm._v(_vm._s(tag))])])\n  }), _vm._v(\" \"), (_vm.inputVisible) ? _c('el-input', {\n    ref: \"saveTagInput\",\n    staticClass: \"input-new-tag\",\n    attrs: {\n      \"placeholder\": \"输入标签\",\n      \"size\": \"mini\"\n    },\n    on: {\n      \"blur\": _vm.handleInputConfirm\n    },\n    nativeOn: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.handleInputConfirm($event)\n      }\n    },\n    model: {\n      value: (_vm.inputValue),\n      callback: function($$v) {\n        _vm.inputValue = $$v\n      },\n      expression: \"inputValue\"\n    }\n  }) : _c('el-button', {\n    attrs: {\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.showInput\n    }\n  }, [_vm._v(\"添加标签\")])], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 311:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_config__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_authUtils__ = __webpack_require__(3);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// 视频管理\n\n\n\nvar urlPre = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/video';\n\nvar VideoService = function () {\n    function VideoService() {\n        _classCallCheck(this, VideoService);\n    }\n\n    _createClass(VideoService, [{\n        key: 'search',\n\n        // // 搜索\n        value: function search(_ref) {\n            var page = _ref.page,\n                pagesize = _ref.pagesize,\n                status = _ref.status,\n                file_name = _ref.file_name,\n                time_start = _ref.time_start,\n                time_end = _ref.time_end;\n\n            var url = urlPre + '/lists';\n            if (status == null || status === '') {\n                status = -1;\n            }\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, { page: page, pagesize: pagesize, status: status, file_name: file_name, time_start: time_start, time_end: time_end }).then(function (ret) {\n                return ret;\n            });\n        }\n\n        // 修改\n\n    }, {\n        key: 'update',\n        value: function update(_ref2) {\n            var id = _ref2.id,\n                name = _ref2.name,\n                tags = _ref2.tags,\n                cover = _ref2.cover,\n                duration = _ref2.duration;\n\n            var url = urlPre + '/' + id + '/';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { name: name, tags: tags, cover: cover, duration: duration });\n        }\n\n        // 删除\n\n    }, {\n        key: 'delete',\n        value: function _delete(_ref3) {\n            var id = _ref3.id;\n\n            var url = urlPre + '/delete/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url);\n        }\n\n        // 批量删除\n\n    }, {\n        key: 'deleteMulty',\n        value: function deleteMulty(_ref4) {\n            var id = _ref4.id;\n\n            var url = urlPre + '/batchdel';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { id: id });\n        }\n\n        // 获取oss的上传token\n\n    }, {\n        key: 'getOssToken',\n        value: function getOssToken() {\n            var url = urlPre + '/video/upload';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, {}).then(function (ret) {\n                return ret.data;\n            });\n        }\n\n        // 刷新视频状态\n\n    }, {\n        key: 'refreshStatus',\n        value: function refreshStatus() {\n            var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                id = _ref5.id;\n\n            var url = urlPre + '/refresh/aliyun/status';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { id: id });\n        }\n\n        // 获取视频预览信息\n\n    }, {\n        key: 'getPreviewInfo',\n        value: function getPreviewInfo(id) {\n            var url = urlPre + '/' + id + '/preview';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url).then(function (ret) {\n                return ret.data;\n            });\n        }\n\n        //------------------------\n        // 获取视频\n        //{ gov_id, material_id, title, page, pagesize, create_start, create_end, status }\n\n    }, {\n        key: 'getVideo',\n        value: function getVideo(gov_id, material_id, title, page, pagesize, create_start, create_end, status, used) {\n            var url = urlPre + '/lists';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url, gov_id, material_id, title, page, pagesize, create_start, create_end, status, used).then(function (ret) {\n                return ret;\n            });\n        }\n\n        // 添加视频\n\n    }, {\n        key: 'create',\n        value: function create(_ref6) {\n            var file_name = _ref6.file_name,\n                size = _ref6.size,\n                gov_id = _ref6.gov_id,\n                tags = _ref6.tags,\n                source_type = _ref6.source_type,\n                source_url = _ref6.source_url;\n\n            var url = urlPre + '/create';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { file_name: file_name, size: size, gov_id: gov_id, tags: tags, source_type: source_type, source_url: source_url });\n        }\n\n        // 修改视频\n\n    }, {\n        key: 'updateVideo',\n        value: function updateVideo(_ref7) {\n            var file_name = _ref7.file_name,\n                gov_id = _ref7.gov_id,\n                tags = _ref7.tags,\n                cover = _ref7.cover,\n                duration = _ref7.duration,\n                material_id = _ref7.material_id;\n\n            gov_id = gov_id || __WEBPACK_IMPORTED_MODULE_2__utils_authUtils__[\"a\" /* default */].getUserInfo().gov_id;\n            var url = urlPre + '/edit/' + material_id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url, { file_name: file_name, gov_id: gov_id, tags: tags, cover: cover, duration: duration });\n        }\n\n        // 获取oss的上传token\n\n    }, {\n        key: 'getOssToken',\n        value: function getOssToken() {\n            var finalUrl = __WEBPACK_IMPORTED_MODULE_1__utils_config__[\"a\" /* default */].apiHost + '/video/upload';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](finalUrl).then(function (ret) {\n                return ret.data;\n            });\n        }\n\n        // 刷新视频状态\n\n    }, {\n        key: 'refreshVideoStatus',\n        value: function refreshVideoStatus() {\n            var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                companyid = _ref8.companyid,\n                id = _ref8.id;\n\n            companyid = companyid || __WEBPACK_IMPORTED_MODULE_2__utils_authUtils__[\"a\" /* default */].getUserInfo().company_id;\n            var finalUrl = urlPre + '/refresh/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](finalUrl, { id: id }).then(function (ret) {\n                return ret;\n            });\n        }\n\n        // 获取上传封面的url\n\n    }, {\n        key: 'getUploadCoverUrl',\n        value: function getUploadCoverUrl() {\n            return urlPre + '/cover';\n        }\n    }, {\n        key: 'deleteVideo',\n        value: function deleteVideo(_ref9) {\n            var id = _ref9.id;\n\n            var url = urlPre + '/delete/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](url).then(function (ret) {\n                if (ret.code == 0) {\n                    xmview.showTip('success', '操作成功');\n                    return ret;\n                } else {\n                    xmview.showTip('error', ret.message);\n                    return Promise.reject(ret);\n                }\n            });\n        }\n\n        // 获取视频预览地址\n\n    }, {\n        key: 'getVideoPreviewUrl',\n        value: function getVideoPreviewUrl(id) {\n            var url = urlPre + '/get/' + id;\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"b\" /* get */](url).then(function (ret) {\n                return ret.data;\n            });\n        }\n        // 审核状态\n\n    }, {\n        key: 'auditVideo',\n        value: function auditVideo(form) {\n            var finalUrl = urlPre + '/video/' + form.id + '/audit';\n            return __WEBPACK_IMPORTED_MODULE_0__api__[\"a\" /* post */](finalUrl, form);\n        }\n    }]);\n\n    return VideoService;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new VideoService());\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 874:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__component_form_Tags_vue__ = __webpack_require__(259);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__component_form_Tags_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__component_form_Tags_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__vendor_ossSdk__ = __webpack_require__(963);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_course_videoService__ = __webpack_require__(311);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_authUtils__ = __webpack_require__(3);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\nvar ossSdk = new __WEBPACK_IMPORTED_MODULE_1__vendor_ossSdk__[\"a\" /* default */]();\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'course-video-add',\n    components: {\n        vTags: __WEBPACK_IMPORTED_MODULE_0__component_form_Tags_vue___default.a\n    },\n    data: function data() {\n        return {\n            listData: [],\n            uploading: false\n        };\n    },\n    beforeCreate: function beforeCreate() {\n        // ossSdk = new OssSdk()\n        this.user = __WEBPACK_IMPORTED_MODULE_3__utils_authUtils__[\"a\" /* default */].getUserInfo();\n    },\n    mounted: function mounted() {\n        xmview.setContentLoading(false);\n    },\n\n    methods: {\n        fileChange: function fileChange(e) {\n            var _listData;\n\n            var dom = e.target;\n            var ret = [];\n            for (var i = 0; i < dom.files.length; i++) {\n                var file = dom.files[i];\n                if (this.checkExist(file.name)) {\n                    xmview.showTip('warning', file.name + ' \\u5DF2\\u5B58\\u5728\\u4E8E\\u5217\\u8868\\u4E2D');\n                } else {\n                    ret.push({\n                        name: file.name,\n                        tags: [],\n                        file: file,\n                        process: 0\n                    });\n                }\n            }\n\n            (_listData = this.listData).push.apply(_listData, ret);\n            dom.value = null;\n        },\n        deleteVideo: function deleteVideo(index) {\n            this.listData.splice(index, 1);\n        },\n        fileClick: function fileClick() {\n            this.$refs.file.click();\n        },\n        submit: function submit() {\n            this.uploading = true;\n            if (this.listData.length > 0) this.uploadVideo();\n        },\n        uploadVideo: function uploadVideo() {\n            var _this = this;\n\n            var count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n            var item = this.listData[count];\n            __WEBPACK_IMPORTED_MODULE_2__services_course_videoService__[\"a\" /* default */].getOssToken().then(function (ret) {\n                ossSdk = new __WEBPACK_IMPORTED_MODULE_1__vendor_ossSdk__[\"a\" /* default */](ret);\n                console.log(ossSdk);\n                // 开始上传\n                // 格式化名称\n                var now = new Date();\n                var name = ['yxt', _this.user.id, now.getFullYear(), now.getMonth() + 1, now.getDate(), [now.getHours(), now.getMinutes(), now.getSeconds(), (Math.random() + 1).toString(36).substring(7)].join('')].join('/') + _this.extname(item.file);\n                console.log(now);\n                console.log(name);\n                // 上传\n                ossSdk.uploadFile(name, item.file, function (progress) {\n                    item.process = progress;\n                }, function (ret) {\n                    // 创建视频\n                    __WEBPACK_IMPORTED_MODULE_2__services_course_videoService__[\"a\" /* default */].create({\n                        gov_id: _this.user.id,\n                        size: '',\n                        file_name: item.name,\n                        tags: item.tags.join(','),\n                        source_type: 'aliyun',\n                        source_url: ret.res.requestUrls[0].split('?')[0]\n                    }).then(function () {\n                        count++;\n                        // 全都上传完毕之后 跳转到列表页面\n                        if (count < _this.listData.length) {\n                            _this.uploadVideo(count);\n                        } else if (count >= _this.listData.length) {\n                            xmview.showTip('success', '操作成功!');\n                            setTimeout(function () {\n                                _this.$router.back();\n                            }, 300);\n                        }\n                        ossSdk = new __WEBPACK_IMPORTED_MODULE_1__vendor_ossSdk__[\"a\" /* default */](ret);\n                    });\n                }, function (err) {\n                    xmview.showTip('error', '上传出现错误' + JSON.stringify(err));\n                });\n            });\n        },\n        checkExist: function checkExist(name) {\n            for (var i = 0; i < this.listData.length; i++) {\n                if (this.listData[i].name === name) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        extname: function extname(file) {\n            var name = file.name || '';\n            var parts = name.split('.');\n            parts.shift();\n            if (parts.length) {\n                return '.' + parts.pop();\n            }\n            return '';\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 963:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {/* harmony default export */ __webpack_exports__[\"a\"] = (function (ossOption, changeToken) {\n    if (ossOption) {\n        ossOption.accessKeyId = ossOption.AccessKeyId;\n        ossOption.accessKeySecret = ossOption.AccessKeySecret;\n        ossOption.stsToken = ossOption.SecurityToken;\n        ossOption.bucket = ossOption.BucketName;\n        ossOption.region = ossOption.Region;\n        ossOption.secure = location.protocol === 'https:';\n        // region: 'oss-cn-beijing',\n        //     accessKeyId: 'STS.FAHYC9xQu9hULJpFaZLJ1LFSo',\n        //     accessKeySecret: 'F6Mn61wJpWXydKY6L9nCHfbQYBhKqP9ufBxirwqNrfSu',\n        //     stsToken: 'CAIS9QF1q6Ft5B2yfSjIp4L9EvmNlY5Ujqq\\x2bTmzBomEPQMUdo4P4jTz2IHtFenFvAO8WsPw2mmFT7PcZlqF6R5pEQ3uVMJOtWWuxL0DzDbDasumZsJYm6vT8a0XxZjf\\/2MjNGZabKPrWZvaqbX3diyZ32sGUXD6\\x2bXlujQ\\/br4NwdGbZxZASjaidcD9p7PxZrrNRgVUHcLvGwKBXn8AGyZQhKwlMm0Dslt\\/nkmJTEsUqO1wTAp7VL99irEP\\x2bNdNJxOZpzadCx0dFte7DJuCwqsEMbqv8p1fMUp2\\x2be4IDGWQgK\\x2bXOXKPbK89FiKxJhYq8zF77DAz1AUAKD0BqAAbNwaudwLzy5hfjzPzE6mTgSc\\x2bndCdh24s1NjN93YJrg3RqjNtuqmi1jvtQp5vAHXHcd5qGNbxcrqxQA7oVlnMXwC87ZAb\\/mIOtUH4I2HdOM4NuPfVaohDfwCmByymk7XqdYSECB\\x2btHrThyUhSILr9dWJo98JTFGwO3KSd7G2rtH',\n        //     bucket: 'yst-vod',\n        //     secure: location.protocol === 'https:'\n    }\n    var client = window.OSS && new OSS.Wrapper(ossOption);\n    var checkPointIndexes = {};\n    var _this = this;\n\n    if (!window.OSS) {\n        new Promise(function (resolve, reject) {\n            var script = document.createElement('script');\n            script.src = '//gosspublic.alicdn.com/aliyun-oss-sdk.min.js';\n            document.head.appendChild(script);\n            script.onload = function () {\n                resolve(true);\n            };\n        }).then(function () {\n            client = new OSS.Wrapper(ossOption);\n        });\n    }\n\n    function saveCheckPoint(file, checkpoint) {\n        var key = _this.getFileKey(file);\n        window.localStorage.setItem(key, JSON.stringify(checkpoint));\n    }\n\n    function deleteCheckPoint(file) {\n        var key = _this.getFileKey(file);\n        window.localStorage.removeItem(key);\n    }\n\n    function getCheckPoint(file) {\n        var key = _this.getFileKey(file);\n        var checkpoint = window.localStorage.getItem(key);\n        checkpoint && (checkpoint = JSON.parse(checkpoint));\n        checkpoint || (checkpoint = {});\n        checkpoint.file = file;\n        return checkpoint;\n    }\n\n    // 获取文件上传唯一标记\n    this.getFileKey = function (file) {\n        return 'aliyun.oss.multipartUpload.' + [file.name, file.type, file.size, file.lastModified || '', file.webkitRelativePath || ''].join('|');\n    };\n\n    // 上传文件\n    this.uploadFile = function (name, file, _progress, success, error) {\n        var checkpoint = getCheckPoint(file) || {};\n        checkpoint.file = file;\n        client.multipartUpload(name, file, {\n            partSize: 256 * 1024,\n            checkpoint: checkpoint,\n            progress: function progress(pgs, cpt) {\n                return function (done) {\n                    _progress && _progress(Math.floor(pgs * 100));\n                    saveCheckPoint(file, cpt);\n                    done();\n                };\n            }\n        }).then(function (ret) {\n            deleteCheckPoint(file);\n            success && success(ret);\n        }).catch(function (err) {\n            console.info('oss出错1' + err);\n            // 如果是授权过期则自动更换授权\n            if (['AccessDenied', 'InvalidAccessKeyId', 'SignatureDoesNotMatch'].indexOf(err.code) > -1 && changeToken) {\n                changeToken(function (ret) {\n                    client.options.accessKeyId = ret.accessKeyId;\n                    client.options.accessKeySecret = ret.accessKeySecret;\n                    client.options.stsToken = ret.stsToken;\n                    _this.uploadFile(name, file, _progress, success, error);\n                });\n            } else {\n                // 清空本地断点续传记录\n                deleteCheckPoint(file);\n                error && error(err);\n            }\n        }).catch(function (err) {\n            console.info('oss出错2' + err);\n        });\n    };\n\n    // 取消上传文件\n    this.cancelUploadFile = function (file) {\n        var key = _this.getFileKey(file);\n        var checkpoint = checkPointIndexes[key];\n        if (checkpoint) {\n            client.abortMultipartUpload(checkpoint.name, checkpoint.uploadId);\n        }\n    };\n});;\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 971:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(112)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#course-video-add-container{padding:15px;border:1px solid #ededed;border-radius:5px;background:#fff}#course-video-add-container:after{content:\\\"\\\";clear:both;display:block}#course-video-add-container .pagin{float:right;margin-top:15px}#course-video-add-container .bottom-manage{margin-top:15px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}#course-video-add-container .first-select-box{left:50%;top:50%;transform:translateX(-50%) translateY(-50%)}.keyword-container{width:90%;margin-left:5%;margin-bottom:5px}#course-video-add-container{min-height:300px;position:relative}#course-video-add-container .first-select-box{position:absolute}#course-video-add-container .first-select-box section{margin-bottom:10px}#course-video-add-container .box-card{margin:0 auto;width:700px;margin-bottom:15px;transition:all .3s ease}#course-video-add-container .box-card .clearfix{display:-ms-flexbox;display:flex}#course-video-add-container .box-card .clearfix span{-ms-flex:1;flex:1;height:34px;line-height:34px}#course-video-add-container .box-card .clearfix .el-button{-ms-flex:0;flex:0}#course-video-add-container .box-card .el-card__header{padding:5px 10px;background:#f8f8f8}#course-video-add-container .bottom-btn{margin:0 auto;width:700px}#course-video-add-container .bottom-btn .el-button:last-of-type{float:right}\", \"\", {\"version\":3,\"sources\":[\"/Users/zhaoyicheng/Documents/Code/yxt/PC-old/sys_ui/assets/src/views/course/video/Add.vue\"],\"names\":[],\"mappings\":\"AACA,4BAA4B,aAAa,AAAkB,yBAAyB,kBAAkB,eAAe,CACpH,AACD,kCAAkC,WAAW,WAAW,aAAa,CACpE,AACD,mCAAmC,YAAY,eAAe,CAC7D,AACD,2CAA2C,eAAe,CACzD,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,8CAA8C,SAAS,QAAQ,2CAA2C,CACzG,AACD,mBAAmB,UAAU,eAAe,iBAAiB,CAC5D,AACD,4BAA4B,iBAAiB,iBAAiB,CAC7D,AACD,8CAA8C,iBAAiB,CAC9D,AACD,sDAAsD,kBAAkB,CACvE,AACD,sCAAsC,cAAc,YAAY,mBAAmB,uBAAyB,CAC3G,AACD,gDAAgD,oBAAoB,YAAY,CAC/E,AACD,qDAAqD,WAAW,OAAO,YAAY,gBAAgB,CAClG,AACD,2DAA2D,WAAW,MAAM,CAC3E,AACD,uDAAuD,iBAAiB,kBAAkB,CACzF,AACD,wCAAwC,cAAc,WAAW,CAChE,AACD,gEAAgE,WAAW,CAC1E\",\"file\":\"Add.vue\",\"sourcesContent\":[\"\\n#course-video-add-container{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\\n}\\n#course-video-add-container:after{content:'';clear:both;display:block\\n}\\n#course-video-add-container .pagin{float:right;margin-top:15px\\n}\\n#course-video-add-container .bottom-manage{margin-top:15px\\n}\\n.text-blue{color:#20A0FF\\n}\\n.text-light-blue{color:#58B7FF\\n}\\n.text-dark-blue{color:#1D8CE0\\n}\\n.text-success{color:#13CE66\\n}\\n.text-warning{color:#F7BA2A\\n}\\n.text-danger{color:#FF4949\\n}\\n#course-video-add-container .first-select-box{left:50%;top:50%;transform:translateX(-50%) translateY(-50%)\\n}\\n.keyword-container{width:90%;margin-left:5%;margin-bottom:5px\\n}\\n#course-video-add-container{min-height:300px;position:relative\\n}\\n#course-video-add-container .first-select-box{position:absolute\\n}\\n#course-video-add-container .first-select-box section{margin-bottom:10px\\n}\\n#course-video-add-container .box-card{margin:0 auto;width:700px;margin-bottom:15px;transition:all 300ms ease\\n}\\n#course-video-add-container .box-card .clearfix{display:-ms-flexbox;display:flex\\n}\\n#course-video-add-container .box-card .clearfix span{-ms-flex:1;flex:1;height:34px;line-height:34px\\n}\\n#course-video-add-container .box-card .clearfix .el-button{-ms-flex:0;flex:0\\n}\\n#course-video-add-container .box-card .el-card__header{padding:5px 10px;background:#f8f8f8\\n}\\n#course-video-add-container .bottom-btn{margin:0 auto;width:700px\\n}\\n#course-video-add-container .bottom-btn .el-button:last-of-type{float:right\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/76.b88326f047eaee5dd54a.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.27.3@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-0e1eeff3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@4.1.1@sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./Add.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"35f91330\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-0e1eeff3\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/course/video/Add.vue\n// module id = 1079\n// module chunks = 76","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', {\n    attrs: {\n      \"id\": \"course-video-add-container\"\n    }\n  }, [(_vm.listData.length < 1) ? _c('section', {\n    staticClass: \"first-select-box\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.fileClick\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-upload el-icon--right\"\n  }), _vm._v(\" \"), _c('i', [_vm._v(\" 选择要上传的视频文件\")])])], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.listData), function(item, index) {\n    return _c('el-card', {\n      key: index,\n      staticClass: \"box-card\"\n    }, [_c('div', {\n      staticClass: \"clearfix\",\n      slot: \"header\"\n    }, [_c('span', [_vm._v(_vm._s(item.name))]), _vm._v(\" \"), _c('el-button', {\n      attrs: {\n        \"type\": \"text\",\n        \"icon\": \"delete\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.deleteVideo(index)\n        }\n      }\n    })], 1), _vm._v(\" \"), _c('el-form', {\n      attrs: {\n        \"label-width\": \"120px\"\n      }\n    }, [_c('el-form-item', {\n      attrs: {\n        \"label\": \"视频名称\"\n      }\n    }, [_c('el-input', {\n      model: {\n        value: (item.name),\n        callback: function($$v) {\n          item.name = $$v\n        },\n        expression: \"item.name\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-form-item', {\n      attrs: {\n        \"label\": \"视频标签\"\n      }\n    }, [_c('vTags', {\n      model: {\n        value: (item.tags),\n        callback: function($$v) {\n          item.tags = $$v\n        },\n        expression: \"item.tags\"\n      }\n    })], 1), _vm._v(\" \"), _c('el-form-item', {\n      attrs: {\n        \"label\": \"\"\n      }\n    }, [_c('el-progress', {\n      attrs: {\n        \"percentage\": item.process,\n        \"status\": item.process >= 100 ? 'success' : ''\n      }\n    })], 1)], 1)], 1)\n  }), _vm._v(\" \"), (_vm.listData.length > 0) ? _c('div', {\n    staticClass: \"bottom-btn\"\n  }, [_c('el-button', {\n    attrs: {\n      \"disabled\": _vm.uploading\n    },\n    on: {\n      \"click\": _vm.fileClick\n    }\n  }, [_vm._v(\"继续添加视频\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": _vm.uploading\n    },\n    on: {\n      \"click\": _vm.submit\n    }\n  }, [_c('i', [_vm._v(_vm._s(_vm.uploading ? '正在上传' : '开始上传'))])])], 1) : _vm._e(), _vm._v(\" \"), _c('input', {\n    ref: \"file\",\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"multiple\": \"multiple\",\n      \"accept\": \"audio/mp4, video/mp4,video/mpeg,video/mpg\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.fileChange($event)\n      }\n    }\n  })], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-0e1eeff3\"}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/course/video/Add.vue\n// module id = 1201\n// module chunks = 76","\n/* styles */\nrequire(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-0e1eeff3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=styles&index=0!./Add.vue\")\n\nvar Component = require(\"!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=script&index=0!./Add.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-0e1eeff3\\\"}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=template&index=0!./Add.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/course/video/Add.vue\n// module id = 140\n// module chunks = 76","<!--标签集合-->\n<style lang='scss' rel='stylesheet/scss'>\n    #component-form-tags {\n        display: inline-block;\n\n        .el-tag {\n            margin-right: 5px;\n        }\n\n        .input-new-tag {\n            display: inline-block;\n            width: 80px !important;\n        }\n    }\n</style>\n\n<template>\n    <article id=\"component-form-tags\">\n        <el-tag\n                :key=\"tag\"\n                v-for=\"tag in currVal\"\n                :closable=\"closable\"\n                :close-transition=\"false\"\n                @close=\"handleClose(tag)\">\n            <i>{{tag}}</i>\n        </el-tag>\n        <el-input\n                placeholder=\"输入标签\"\n                class=\"input-new-tag\"\n                v-if=\"inputVisible\"\n                v-model=\"inputValue\"\n                ref=\"saveTagInput\"\n                size=\"mini\"\n                @keyup.enter.native=\"handleInputConfirm\"\n                @blur=\"handleInputConfirm\">\n        </el-input>\n        <el-button v-else size=\"small\" @click=\"showInput\">添加标签</el-button>\n    </article>\n</template>\n\n<script>\n    export default{\n        props: {\n            value: Array,\n            closable: {type: Boolean, default: true}\n        },\n        data () {\n            return {\n                currVal: this.value || [],\n                inputVisible: false,\n                inputValue: void 0,\n            }\n        },\n        created () {\n        },\n        activated () {\n        },\n        watch: {\n            'value' (val) {\n                if (val != this.currVal || (val && val.length != this.currVal.length)) {\n                    this.currVal = val\n                }\n            },\n            'currVal' (val) {\n                if (val.length != this.currVal || val != this.currVal) {\n                    this.$emit('input', val)\n                }\n            }\n        },\n        methods: {\n            handleClose(tag) {\n                this.currVal.splice(this.currVal.indexOf(tag), 1)\n            },\n\n            showInput() {\n                this.inputVisible = true\n                this.$nextTick(_ => {\n                    this.$refs.saveTagInput.$refs.input.focus()\n                })\n            },\n\n            handleInputConfirm() {\n                let inputValue = this.inputValue\n                if (inputValue) {\n                    this.currVal.push(inputValue)\n                }\n                this.inputVisible = false\n                this.inputValue = ''\n            }\n        },\n        components: {}\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Tags.vue?5f98adb2","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.27.3@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#component-form-tags{display:inline-block}#component-form-tags .el-tag{margin-right:5px}#component-form-tags .input-new-tag{display:inline-block;width:80px!important}\", \"\", {\"version\":3,\"sources\":[\"/Users/zhaoyicheng/Documents/Code/yxt/PC-old/sys_ui/assets/src/views/component/form/Tags.vue\"],\"names\":[],\"mappings\":\"AACA,qBAAqB,oBAAoB,CACxC,AACD,6BAA6B,gBAAgB,CAC5C,AACD,oCAAoC,qBAAqB,oBAAqB,CAC7E\",\"file\":\"Tags.vue\",\"sourcesContent\":[\"\\n#component-form-tags{display:inline-block\\n}\\n#component-form-tags .el-tag{margin-right:5px\\n}\\n#component-form-tags .input-new-tag{display:inline-block;width:80px !important\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-1789bef0\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/component/form/Tags.vue\n// module id = 256\n// module chunks = 2 8 9 15 18 26 27 31 42 55 76","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.27.3@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-1789bef0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@4.1.1@sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./Tags.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"0f7a44a6\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-1789bef0\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/component/form/Tags.vue\n// module id = 258\n// module chunks = 2 8 9 15 18 26 27 31 42 55 76","\n/* styles */\nrequire(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-1789bef0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=styles&index=0!./Tags.vue\")\n\nvar Component = require(\"!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=script&index=0!./Tags.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-1789bef0\\\"}!../../../../node_modules/_vue-loader@11.1.4@vue-loader/lib/selector?type=template&index=0!./Tags.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/component/form/Tags.vue\n// module id = 259\n// module chunks = 2 8 9 15 18 26 27 31 42 55 76","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('article', {\n    attrs: {\n      \"id\": \"component-form-tags\"\n    }\n  }, [_vm._l((_vm.currVal), function(tag) {\n    return _c('el-tag', {\n      key: tag,\n      attrs: {\n        \"closable\": _vm.closable,\n        \"close-transition\": false\n      },\n      on: {\n        \"close\": function($event) {\n          _vm.handleClose(tag)\n        }\n      }\n    }, [_c('i', [_vm._v(_vm._s(tag))])])\n  }), _vm._v(\" \"), (_vm.inputVisible) ? _c('el-input', {\n    ref: \"saveTagInput\",\n    staticClass: \"input-new-tag\",\n    attrs: {\n      \"placeholder\": \"输入标签\",\n      \"size\": \"mini\"\n    },\n    on: {\n      \"blur\": _vm.handleInputConfirm\n    },\n    nativeOn: {\n      \"keyup\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13)) { return null; }\n        _vm.handleInputConfirm($event)\n      }\n    },\n    model: {\n      value: (_vm.inputValue),\n      callback: function($$v) {\n        _vm.inputValue = $$v\n      },\n      expression: \"inputValue\"\n    }\n  }) : _c('el-button', {\n    attrs: {\n      \"size\": \"small\"\n    },\n    on: {\n      \"click\": _vm.showInput\n    }\n  }, [_vm._v(\"添加标签\")])], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-1789bef0\"}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/component/form/Tags.vue\n// module id = 260\n// module chunks = 2 8 9 15 18 26 27 31 42 55 76","// 视频管理\nimport * as api from '../api'\nimport config from '../../utils/config'\nimport authUtils from '../../utils/authUtils'\nconst urlPre = config.apiHost + '/video'\n\nclass VideoService {\n    // // 搜索\n    search({ page, pagesize, status, file_name,  time_start, time_end }) {\n        let url = `${urlPre}/lists`\n        if (status == null || status === '') {\n            status = -1\n        }\n        return api.get(url, { page, pagesize,  status, file_name, time_start, time_end }).then((ret) => {\n            return ret\n        })\n    }\n\n    // 修改\n    update({ id, name, tags, cover, duration }) {\n        let url = `${urlPre}/${id}/`\n        return api.post(url, { name, tags, cover, duration })\n    }\n\n    // 删除\n    delete({ id }) {\n        let url = `${urlPre}/delete/${id}`\n        return api.post(url)\n    }\n\n    // 批量删除\n    deleteMulty({ id }) {\n        let url = `${urlPre}/batchdel`\n        return api.post(url, { id })\n    }\n\n    // 获取oss的上传token\n    getOssToken() {\n        let url = `${urlPre}/video/upload`\n        return api.get(url, {}).then((ret) => {\n            return ret.data\n        })\n    }\n\n    // 刷新视频状态\n    refreshStatus({ id } = {}) {\n        let url = `${urlPre}/refresh/aliyun/status`\n        return api.post(url, { id })\n    }\n\n    // 获取视频预览信息\n    getPreviewInfo(id) {\n        let url = `${urlPre}/${id}/preview`\n        return api.get(url).then((ret) => {\n            return ret.data\n        })\n    }\n\n\n\n\n\n\n\n\n\n    //------------------------\n    // 获取视频\n    //{ gov_id, material_id, title, page, pagesize, create_start, create_end, status }\n    getVideo( gov_id, material_id, title, page, pagesize, create_start, create_end, status,used ) {\n        let url = `${urlPre}/lists`\n        return api.get(url, gov_id, material_id, title, page, pagesize, create_start, create_end, status,used ).then((ret) => {\n            return ret\n        })\n    }\n\n    // 添加视频\n    create({ file_name,  size, gov_id, tags, source_type, source_url }) {\n        let url = `${urlPre}/create`\n        return api.post(url, { file_name,  size, gov_id, tags, source_type, source_url })\n    }\n\n    // 修改视频\n    updateVideo({ file_name, gov_id, tags, cover, duration, material_id }) {\n        gov_id = gov_id || authUtils.getUserInfo().gov_id\n        let url = `${urlPre}/edit/${material_id}`\n        return api.post(url, { file_name, gov_id, tags, cover, duration })\n    }\n\n    // 获取oss的上传token\n    getOssToken() {\n        let finalUrl = `${config.apiHost}/video/upload`\n        return api.get(finalUrl).then((ret) => {\n            return ret.data\n        })\n    }\n\n    // 刷新视频状态\n    refreshVideoStatus({ companyid, id } = {}) {\n        companyid = companyid || authUtils.getUserInfo().company_id\n        let finalUrl = `${urlPre}/refresh/${id}`\n        return api.post(finalUrl, { id }).then((ret) => {\n            return ret\n        })\n    }\n\n    // 获取上传封面的url\n    getUploadCoverUrl() {\n        return `${urlPre}/cover`\n    }\n\n    deleteVideo({ id }) {\n        let url = `${urlPre}/delete/${id}`\n        return api.post(url).then((ret)=>{\n            if (ret.code == 0) {\n                xmview.showTip('success', '操作成功')\n                return ret\n            } else {\n                xmview.showTip('error', ret.message)\n                return Promise.reject(ret)\n            }\n        })\n    }\n\n    // 获取视频预览地址\n    getVideoPreviewUrl(id) {\n        let url = `${urlPre}/get/${id}`\n        return api.get(url).then((ret) => {\n            return ret.data\n        })\n    }\n    // 审核状态\n    auditVideo(form) {\n        let finalUrl = `${urlPre}/video/${form.id}/audit`\n        return api.post(finalUrl, form)\n    }\n\n\n\n\n    \n}\n\nexport default new VideoService()\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/course/videoService.js","<!--上传视频-->\n<style lang='scss' rel='stylesheet/scss'>\n@import \"../../../utils/mixins/common\";\n@import \"../../../utils/mixins/mixins\";\n@import \"../../../utils/mixins/topSearch\";\n\n#course-video-add-container {\n    @extend %content-container;\n    min-height: 300px;\n    position: relative;\n\n    .first-select-box {\n        @extend %absoluteCenter;\n        position: absolute;\n        \n        section {\n            margin-bottom: 10px;\n        }\n    }\n    .box-card {\n        margin: 0 auto;\n        width: 700px;\n        margin-bottom: 15px;\n        transition: all 300ms ease;\n\n        .clearfix {\n            display: flex;\n            span {\n                flex: 1;\n                height: 34px;\n                line-height: 34px;\n            }\n\n            .el-button {\n                flex: 0;\n            }\n        }\n\n        .el-card__header {\n            padding: 5px 10px;\n            background: #f8f8f8;\n        }\n    } // 底部按钮\n    .bottom-btn {\n        margin: 0 auto;\n        width: 700px;\n        .el-button {\n            &:last-of-type {\n                float: right;\n            }\n        }\n    }\n}\n</style>\n\n<template>\n    <main id=\"course-video-add-container\">\n        <section v-if=\"listData.length < 1\" class=\"first-select-box\">\n                       <el-button @click=\"fileClick\" class=\"\" type=\"primary\">\n                <i class=\"el-icon-upload el-icon--right\"></i>\n                <i> 选择要上传的视频文件</i>\n            </el-button>\n        </section>\n    \n        <el-card class=\"box-card\" v-for=\"(item,index) in listData\" :key=\"index\">\n            <div slot=\"header\" class=\"clearfix\">\n                <span>{{item.name}}</span>\n                <el-button type=\"text\" icon=\"delete\" @click=\"deleteVideo(index)\"></el-button>\n            </div>\n            <el-form label-width=\"120px\">\n                <el-form-item label=\"视频名称\">\n                    <el-input v-model=\"item.name\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"视频标签\">\n                    <vTags v-model=\"item.tags\"></vTags>\n                </el-form-item>\n                <el-form-item label=\"\">\n                    <el-progress :percentage=\"item.process\" :status=\"item.process>= 100 ? 'success' : ''\"></el-progress>\n                </el-form-item>\n            </el-form>\n        </el-card>\n    \n        <div v-if=\"listData.length > 0\" class=\"bottom-btn\">\n            <el-button :disabled=\"uploading\" @click=\"fileClick\">继续添加视频</el-button>\n            <el-button type=\"primary\" :disabled=\"uploading\" @click=\"submit\">\n                <i>{{uploading ? '正在上传' : '开始上传'}}</i>\n            </el-button>\n        </div>\n    \n        <input style=\"display: none\" type=\"file\" ref=\"file\" multiple=\"multiple\" @change=\"fileChange($event)\" accept=\"audio/mp4, video/mp4,video/mpeg,video/mpg\">\n    </main>\n</template>\n\n<script>\nimport vTags from '../../component/form/Tags.vue'\nimport OssSdk from '../../../vendor/ossSdk'\nimport videoService from '../../../services/course/videoService'\nimport authUtils from '../../../utils/authUtils'\n\nlet ossSdk = new OssSdk()\nexport default {\n    name: 'course-video-add',\n    components: {\n        vTags,\n    },\n    data() {\n        return {\n            listData: [],\n            uploading: false,\n        }\n    },\n    beforeCreate() {\n        // ossSdk = new OssSdk()\n        this.user = authUtils.getUserInfo()\n    },\n    mounted() {\n        xmview.setContentLoading(false)\n    },\n    methods: {\n        fileChange(e) {\n            let dom = e.target\n            let ret = []\n            for (let i = 0; i < dom.files.length; i++) {\n                let file = dom.files[i]\n                if (this.checkExist(file.name)) {\n                    xmview.showTip('warning', `${file.name} 已存在于列表中`)\n                } else {\n                    ret.push({\n                        name: file.name,\n                        tags: [],\n                        file: file,\n                        process: 0\n                    })\n                }\n            }\n\n            this.listData.push(...ret)\n            dom.value = null\n        },\n        deleteVideo(index) {\n            this.listData.splice(index, 1)\n        },\n        fileClick() {\n            this.$refs.file.click()\n        },\n        submit() {\n            this.uploading = true\n            if (this.listData.length > 0) this.uploadVideo()\n        },\n        uploadVideo(count = 0) {\n            let item = this.listData[count]\n            videoService.getOssToken().then((ret) => {\n                ossSdk = new OssSdk(ret)\n                console.log(ossSdk)\n                // 开始上传\n                // 格式化名称\n                var now = new Date()\n                var name = [\n                    'yxt', this.user.id,\n                    now.getFullYear(), now.getMonth() + 1, now.getDate(),\n                    [now.getHours(), now.getMinutes(), now.getSeconds(), (Math.random() + 1).toString(36).substring(7)].join('')\n                ].join('/') + this.extname(item.file)\n                console.log(now)\n                console.log(name)\n                // 上传\n                ossSdk.uploadFile(name, item.file, function (progress) {\n                    item.process = progress\n                }, ret => {\n                    // 创建视频\n                    videoService.create({\n                        gov_id:this.user.id,\n                        size:'',\n                        file_name: item.name,\n                        tags: item.tags.join(','),\n                        source_type: 'aliyun',\n                        source_url: ret.res.requestUrls[0].split('?')[0]\n                    }).then(() => {\n                        count++\n                        // 全都上传完毕之后 跳转到列表页面\n                        if (count < this.listData.length) {\n                            this.uploadVideo(count)\n                        } else if (count >= this.listData.length) {\n                            xmview.showTip('success', '操作成功!')\n                            setTimeout(() => {\n                                this.$router.back()\n                            }, 300)\n                        }\n                        ossSdk = new OssSdk(ret)\n                    })\n                }, err => {\n                    xmview.showTip('error', '上传出现错误' + JSON.stringify(err))\n                })\n            })\n        },\n        checkExist(name) {\n            for (let i = 0; i < this.listData.length; i++) {\n                if (this.listData[i].name === name) {\n                    return true\n                }\n            }\n            return false\n        },\n        extname(file) {\n            var name = file.name || ''\n            var parts = name.split('.')\n            parts.shift()\n            if (parts.length) {\n                return '.' + parts.pop()\n            }\n            return ''\n        }\n    }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Add.vue?699d8384","export default function (ossOption, changeToken) {\n    if (ossOption) {\n        ossOption.accessKeyId = ossOption.AccessKeyId;\n        ossOption.accessKeySecret = ossOption.AccessKeySecret;\n        ossOption.stsToken = ossOption.SecurityToken;\n        ossOption.bucket = ossOption.BucketName;\n        ossOption.region = ossOption.Region;\n        ossOption.secure = location.protocol === 'https:'\n            // region: 'oss-cn-beijing',\n            //     accessKeyId: 'STS.FAHYC9xQu9hULJpFaZLJ1LFSo',\n            //     accessKeySecret: 'F6Mn61wJpWXydKY6L9nCHfbQYBhKqP9ufBxirwqNrfSu',\n            //     stsToken: 'CAIS9QF1q6Ft5B2yfSjIp4L9EvmNlY5Ujqq\\x2bTmzBomEPQMUdo4P4jTz2IHtFenFvAO8WsPw2mmFT7PcZlqF6R5pEQ3uVMJOtWWuxL0DzDbDasumZsJYm6vT8a0XxZjf\\/2MjNGZabKPrWZvaqbX3diyZ32sGUXD6\\x2bXlujQ\\/br4NwdGbZxZASjaidcD9p7PxZrrNRgVUHcLvGwKBXn8AGyZQhKwlMm0Dslt\\/nkmJTEsUqO1wTAp7VL99irEP\\x2bNdNJxOZpzadCx0dFte7DJuCwqsEMbqv8p1fMUp2\\x2be4IDGWQgK\\x2bXOXKPbK89FiKxJhYq8zF77DAz1AUAKD0BqAAbNwaudwLzy5hfjzPzE6mTgSc\\x2bndCdh24s1NjN93YJrg3RqjNtuqmi1jvtQp5vAHXHcd5qGNbxcrqxQA7oVlnMXwC87ZAb\\/mIOtUH4I2HdOM4NuPfVaohDfwCmByymk7XqdYSECB\\x2btHrThyUhSILr9dWJo98JTFGwO3KSd7G2rtH',\n            //     bucket: 'yst-vod',\n            //     secure: location.protocol === 'https:'\n    }\n    var client = window.OSS && new OSS.Wrapper(ossOption);\n    var checkPointIndexes = {};\n    var _this = this;\n\n    if (!window.OSS) {\n        new Promise((resolve, reject) => {\n            let script = document.createElement('script')\n            script.src = '//gosspublic.alicdn.com/aliyun-oss-sdk.min.js'\n            document.head.appendChild(script)\n            script.onload = () => {\n                resolve(true)\n            }\n        }).then(() => {\n            client = new OSS.Wrapper(ossOption)\n        })\n    }\n\n    function saveCheckPoint (file, checkpoint) {\n        var key = _this.getFileKey(file);\n        window.localStorage.setItem(key, JSON.stringify(checkpoint));\n    }\n\n    function deleteCheckPoint (file) {\n        var key = _this.getFileKey(file);\n        window.localStorage.removeItem(key);\n    }\n\n    function getCheckPoint (file) {\n        var key = _this.getFileKey(file);\n        var checkpoint = window.localStorage.getItem(key);\n        checkpoint && (checkpoint = JSON.parse(checkpoint));\n        checkpoint || (checkpoint = {});\n        checkpoint.file = file;\n        return checkpoint;\n    }\n\n    // 获取文件上传唯一标记\n    this.getFileKey = function (file) {\n        return 'aliyun.oss.multipartUpload.' + [\n                file.name,\n                file.type,\n                file.size,\n                file.lastModified || '',\n                file.webkitRelativePath || ''\n            ].join('|');\n    };\n\n    // 上传文件\n    this.uploadFile = function (name, file, progress, success, error) {\n        var checkpoint = getCheckPoint(file) || {};\n        checkpoint.file = file;\n        client.multipartUpload(name, file, {\n            partSize: 256 * 1024,\n            checkpoint: checkpoint,\n            progress: function (pgs, cpt) {\n                return function (done) {\n                    progress && progress(Math.floor(pgs * 100));\n                    saveCheckPoint(file, cpt);\n                    done();\n                }\n            }\n        }).then(function (ret) {\n            deleteCheckPoint(file);\n            success && success(ret);\n        }).catch(function (err) {\n            console.info('oss出错1' + err)\n            // 如果是授权过期则自动更换授权\n            if (['AccessDenied', 'InvalidAccessKeyId', 'SignatureDoesNotMatch'].indexOf(err.code) > -1 && changeToken) {\n                changeToken(function (ret) {\n                    client.options.accessKeyId = ret.accessKeyId;\n                    client.options.accessKeySecret = ret.accessKeySecret;\n                    client.options.stsToken = ret.stsToken;\n                    _this.uploadFile(name, file, progress, success, error);\n                });\n            } else {\n                // 清空本地断点续传记录\n                deleteCheckPoint(file);\n                error && error(err);\n            }\n        }).catch(err => {\n            console.info('oss出错2' + err)\n        });\n    };\n\n    // 取消上传文件\n    this.cancelUploadFile = function (file) {\n        var key = _this.getFileKey(file);\n        var checkpoint = checkPointIndexes[key];\n        if (checkpoint) {\n            client.abortMultipartUpload(checkpoint.name, checkpoint.uploadId)\n        }\n    };\n};\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/ossSdk.js","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.27.3@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#course-video-add-container{padding:15px;border:1px solid #ededed;border-radius:5px;background:#fff}#course-video-add-container:after{content:\\\"\\\";clear:both;display:block}#course-video-add-container .pagin{float:right;margin-top:15px}#course-video-add-container .bottom-manage{margin-top:15px}.text-blue{color:#20a0ff}.text-light-blue{color:#58b7ff}.text-dark-blue{color:#1d8ce0}.text-success{color:#13ce66}.text-warning{color:#f7ba2a}.text-danger{color:#ff4949}#course-video-add-container .first-select-box{left:50%;top:50%;transform:translateX(-50%) translateY(-50%)}.keyword-container{width:90%;margin-left:5%;margin-bottom:5px}#course-video-add-container{min-height:300px;position:relative}#course-video-add-container .first-select-box{position:absolute}#course-video-add-container .first-select-box section{margin-bottom:10px}#course-video-add-container .box-card{margin:0 auto;width:700px;margin-bottom:15px;transition:all .3s ease}#course-video-add-container .box-card .clearfix{display:-ms-flexbox;display:flex}#course-video-add-container .box-card .clearfix span{-ms-flex:1;flex:1;height:34px;line-height:34px}#course-video-add-container .box-card .clearfix .el-button{-ms-flex:0;flex:0}#course-video-add-container .box-card .el-card__header{padding:5px 10px;background:#f8f8f8}#course-video-add-container .bottom-btn{margin:0 auto;width:700px}#course-video-add-container .bottom-btn .el-button:last-of-type{float:right}\", \"\", {\"version\":3,\"sources\":[\"/Users/zhaoyicheng/Documents/Code/yxt/PC-old/sys_ui/assets/src/views/course/video/Add.vue\"],\"names\":[],\"mappings\":\"AACA,4BAA4B,aAAa,AAAkB,yBAAyB,kBAAkB,eAAe,CACpH,AACD,kCAAkC,WAAW,WAAW,aAAa,CACpE,AACD,mCAAmC,YAAY,eAAe,CAC7D,AACD,2CAA2C,eAAe,CACzD,AACD,WAAW,aAAa,CACvB,AACD,iBAAiB,aAAa,CAC7B,AACD,gBAAgB,aAAa,CAC5B,AACD,cAAc,aAAa,CAC1B,AACD,cAAc,aAAa,CAC1B,AACD,aAAa,aAAa,CACzB,AACD,8CAA8C,SAAS,QAAQ,2CAA2C,CACzG,AACD,mBAAmB,UAAU,eAAe,iBAAiB,CAC5D,AACD,4BAA4B,iBAAiB,iBAAiB,CAC7D,AACD,8CAA8C,iBAAiB,CAC9D,AACD,sDAAsD,kBAAkB,CACvE,AACD,sCAAsC,cAAc,YAAY,mBAAmB,uBAAyB,CAC3G,AACD,gDAAgD,oBAAoB,YAAY,CAC/E,AACD,qDAAqD,WAAW,OAAO,YAAY,gBAAgB,CAClG,AACD,2DAA2D,WAAW,MAAM,CAC3E,AACD,uDAAuD,iBAAiB,kBAAkB,CACzF,AACD,wCAAwC,cAAc,WAAW,CAChE,AACD,gEAAgE,WAAW,CAC1E\",\"file\":\"Add.vue\",\"sourcesContent\":[\"\\n#course-video-add-container{padding:15px;position:relative;border:1px solid #ededed;border-radius:5px;background:#fff\\n}\\n#course-video-add-container:after{content:'';clear:both;display:block\\n}\\n#course-video-add-container .pagin{float:right;margin-top:15px\\n}\\n#course-video-add-container .bottom-manage{margin-top:15px\\n}\\n.text-blue{color:#20A0FF\\n}\\n.text-light-blue{color:#58B7FF\\n}\\n.text-dark-blue{color:#1D8CE0\\n}\\n.text-success{color:#13CE66\\n}\\n.text-warning{color:#F7BA2A\\n}\\n.text-danger{color:#FF4949\\n}\\n#course-video-add-container .first-select-box{left:50%;top:50%;transform:translateX(-50%) translateY(-50%)\\n}\\n.keyword-container{width:90%;margin-left:5%;margin-bottom:5px\\n}\\n#course-video-add-container{min-height:300px;position:relative\\n}\\n#course-video-add-container .first-select-box{position:absolute\\n}\\n#course-video-add-container .first-select-box section{margin-bottom:10px\\n}\\n#course-video-add-container .box-card{margin:0 auto;width:700px;margin-bottom:15px;transition:all 300ms ease\\n}\\n#course-video-add-container .box-card .clearfix{display:-ms-flexbox;display:flex\\n}\\n#course-video-add-container .box-card .clearfix span{-ms-flex:1;flex:1;height:34px;line-height:34px\\n}\\n#course-video-add-container .box-card .clearfix .el-button{-ms-flex:0;flex:0\\n}\\n#course-video-add-container .box-card .el-card__header{padding:5px 10px;background:#f8f8f8\\n}\\n#course-video-add-container .bottom-btn{margin:0 auto;width:700px\\n}\\n#course-video-add-container .bottom-btn .el-button:last-of-type{float:right\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.27.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-0e1eeff3\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@4.1.1@sass-loader?{\"sourceMap\":true}!./~/_vue-loader@11.1.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/course/video/Add.vue\n// module id = 971\n// module chunks = 76"],"sourceRoot":""}